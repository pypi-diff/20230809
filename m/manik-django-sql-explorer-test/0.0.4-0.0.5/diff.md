# Comparing `tmp/manik_django_sql_explorer_test-0.0.4-py3-none-any.whl.zip` & `tmp/manik_django_sql_explorer_test-0.0.5-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,30 +1,30 @@
-Zip file size: 123523 bytes, number of entries: 82
+Zip file size: 123564 bytes, number of entries: 82
 -rw-r--r--  2.0 unx      581 b- defN 23-Jul-21 11:15 explorer/__init__.py
 -rw-r--r--  2.0 unx      785 b- defN 23-Jul-22 07:25 explorer/__init__.pyc
 -rw-r--r--  2.0 unx     1632 b- defN 23-Jul-21 11:15 explorer/actions.py
 -rw-r--r--  2.0 unx     2540 b- defN 23-Jul-22 07:25 explorer/actions.pyc
 -rw-r--r--  2.0 unx      375 b- defN 23-Jul-21 11:15 explorer/admin.py
 -rw-r--r--  2.0 unx      750 b- defN 23-Jul-22 07:25 explorer/admin.pyc
--rw-r--r--  2.0 unx     2380 b- defN 23-Jul-25 11:36 explorer/app_settings.py
+-rw-r--r--  2.0 unx     2380 b- defN 23-Aug-01 06:40 explorer/app_settings.py
 -rw-r--r--  2.0 unx     2541 b- defN 23-Jul-22 07:25 explorer/app_settings.pyc
--rw-r--r--  2.0 unx      545 b- defN 23-Aug-01 06:16 explorer/constants.py
+-rw-r--r--  2.0 unx      548 b- defN 23-Aug-01 06:56 explorer/constants.py
 -rw-r--r--  2.0 unx      388 b- defN 23-Jul-22 07:25 explorer/constants.pyc
 -rw-r--r--  2.0 unx     2054 b- defN 23-Jul-21 11:15 explorer/counter.py
 -rw-r--r--  2.0 unx     2039 b- defN 23-Jul-21 11:15 explorer/forms.py
 -rw-r--r--  2.0 unx     3028 b- defN 23-Jul-22 07:25 explorer/forms.pyc
--rw-r--r--  2.0 unx    13485 b- defN 23-Aug-01 04:47 explorer/models.py
+-rw-r--r--  2.0 unx    13485 b- defN 23-Aug-01 06:43 explorer/models.py
 -rw-r--r--  2.0 unx    17187 b- defN 23-Jul-22 07:25 explorer/models.pyc
 -rw-r--r--  2.0 unx     2233 b- defN 23-Jul-21 11:15 explorer/tasks.py
 -rw-r--r--  2.0 unx     3469 b- defN 23-Jul-22 07:25 explorer/tasks.pyc
 -rw-r--r--  2.0 unx     1265 b- defN 23-Jul-21 11:15 explorer/urls.py
 -rw-r--r--  2.0 unx     1401 b- defN 23-Jul-22 07:25 explorer/urls.pyc
--rw-r--r--  2.0 unx    11653 b- defN 23-Aug-01 06:21 explorer/utils.py
+-rw-r--r--  2.0 unx    11717 b- defN 23-Aug-09 05:21 explorer/utils.py
 -rw-r--r--  2.0 unx    12909 b- defN 23-Jul-22 07:25 explorer/utils.pyc
--rw-r--r--  2.0 unx    15149 b- defN 23-Jul-21 11:15 explorer/views.py
+-rw-r--r--  2.0 unx    15206 b- defN 23-Aug-09 05:21 explorer/views.py
 -rw-r--r--  2.0 unx    17344 b- defN 23-Jul-22 07:25 explorer/views.pyc
 -rw-r--r--  2.0 unx      628 b- defN 23-Jul-21 11:22 explorer/__pycache__/__init__.cpython-310.pyc
 -rw-r--r--  2.0 unx    15356 b- defN 23-Jul-21 11:43 explorer/__pycache__/models.cpython-310.pyc
 -rw-r--r--  2.0 unx    11231 b- defN 23-Jul-21 11:43 explorer/__pycache__/utils.cpython-310.pyc
 -rw-r--r--  2.0 unx     1909 b- defN 23-Jul-21 11:15 explorer/migrations/0001_initial.py
 -rw-r--r--  2.0 unx     1878 b- defN 23-Jul-22 07:25 explorer/migrations/0001_initial.pyc
 -rw-r--r--  2.0 unx      511 b- defN 23-Jul-21 11:15 explorer/migrations/0002_auto_20150501_1515.py
@@ -71,14 +71,14 @@
 -rw-r--r--  2.0 unx    19387 b- defN 23-Jul-21 11:15 explorer/tests/test_views.py
 -rw-r--r--  2.0 unx    26789 b- defN 23-Jul-22 15:43 explorer/tests/test_views.pyc
 -rw-r--r--  2.0 unx      222 b- defN 23-Jul-21 11:15 explorer/tests/urls.py
 -rw-r--r--  2.0 unx      461 b- defN 23-Jul-22 07:25 explorer/tests/urls.pyc
 -rw-r--r--  2.0 unx      928 b- defN 23-Jul-21 11:15 explorer/tests/utils.py
 -rw-r--r--  2.0 unx      169 b- defN 23-Jul-21 11:22 explorer/tests/__pycache__/__init__.cpython-310.pyc
 -rw-r--r--  2.0 unx     1473 b- defN 23-Jul-21 11:22 explorer/tests/__pycache__/settings.cpython-310.pyc
--rw-r--r--  2.0 unx      244 b- defN 23-Aug-01 06:25 manik_django_sql_explorer_test-0.0.4.dist-info/AUTHORS
--rw-r--r--  2.0 unx     1090 b- defN 23-Aug-01 06:25 manik_django_sql_explorer_test-0.0.4.dist-info/LICENSE
--rw-r--r--  2.0 unx    15994 b- defN 23-Aug-01 06:25 manik_django_sql_explorer_test-0.0.4.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Aug-01 06:25 manik_django_sql_explorer_test-0.0.4.dist-info/WHEEL
--rw-r--r--  2.0 unx        9 b- defN 23-Aug-01 06:25 manik_django_sql_explorer_test-0.0.4.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     7290 b- defN 23-Aug-01 06:25 manik_django_sql_explorer_test-0.0.4.dist-info/RECORD
-82 files, 319583 bytes uncompressed, 111881 bytes compressed:  65.0%
+-rw-r--r--  2.0 unx      244 b- defN 23-Aug-09 05:21 manik_django_sql_explorer_test-0.0.5.dist-info/AUTHORS
+-rw-r--r--  2.0 unx     1090 b- defN 23-Aug-09 05:21 manik_django_sql_explorer_test-0.0.5.dist-info/LICENSE
+-rw-r--r--  2.0 unx    15994 b- defN 23-Aug-09 05:21 manik_django_sql_explorer_test-0.0.5.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Aug-09 05:21 manik_django_sql_explorer_test-0.0.5.dist-info/WHEEL
+-rw-r--r--  2.0 unx        9 b- defN 23-Aug-09 05:21 manik_django_sql_explorer_test-0.0.5.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     7290 b- defN 23-Aug-09 05:21 manik_django_sql_explorer_test-0.0.5.dist-info/RECORD
+82 files, 319707 bytes uncompressed, 111922 bytes compressed:  65.0%
```

## zipnote {}

```diff
@@ -222,26 +222,26 @@
 
 Filename: explorer/tests/__pycache__/__init__.cpython-310.pyc
 Comment: 
 
 Filename: explorer/tests/__pycache__/settings.cpython-310.pyc
 Comment: 
 
-Filename: manik_django_sql_explorer_test-0.0.4.dist-info/AUTHORS
+Filename: manik_django_sql_explorer_test-0.0.5.dist-info/AUTHORS
 Comment: 
 
-Filename: manik_django_sql_explorer_test-0.0.4.dist-info/LICENSE
+Filename: manik_django_sql_explorer_test-0.0.5.dist-info/LICENSE
 Comment: 
 
-Filename: manik_django_sql_explorer_test-0.0.4.dist-info/METADATA
+Filename: manik_django_sql_explorer_test-0.0.5.dist-info/METADATA
 Comment: 
 
-Filename: manik_django_sql_explorer_test-0.0.4.dist-info/WHEEL
+Filename: manik_django_sql_explorer_test-0.0.5.dist-info/WHEEL
 Comment: 
 
-Filename: manik_django_sql_explorer_test-0.0.4.dist-info/top_level.txt
+Filename: manik_django_sql_explorer_test-0.0.5.dist-info/top_level.txt
 Comment: 
 
-Filename: manik_django_sql_explorer_test-0.0.4.dist-info/RECORD
+Filename: manik_django_sql_explorer_test-0.0.5.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## explorer/constants.py

```diff
@@ -7,9 +7,9 @@
 TYPE_CODE_FOR_TEXT = 25
 TYPE_CODE_FOR_CHAR = 1043
 
 PLAYER_PHONE_NUMBER_MASKING_TYPE_CODES = [TYPE_CODE_FOR_CHAR]
 
 ALLOW_PHONE_NUMBER_MASKING_GROUP_ID = 10439
 
-PATTERN_FOR_FINDING_PHONE_NUMBER = r"(?:\+?\d{1,3}|0)?([6-9]\d{9})\b"
+PATTERN_FOR_FINDING_PHONE_NUMBER = r"\+?\d{0,3}?([6-9]\d{9})(?:_\w+)?\b"
 PATTERN_FOR_FINDING_EMAIL = r"\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,7}\b"
```

## explorer/utils.py

```diff
@@ -142,33 +142,33 @@
     # build list of valid chars, build filename from title and replace spaces
     valid_chars = '-_.() %s%s' % (string.ascii_letters, string.digits)
     filename = ''.join(c for c in title if c in valid_chars)
     filename = filename.replace(' ', '_')
     return filename
 
 
-def build_stream_response(query, delim=None):
-    data = csv_report(query, delim).getvalue()
+def build_stream_response(query, delim=None, user=None):
+    data = csv_report(query, delim, user).getvalue()
     response = HttpResponse(data, content_type='text')
     return response
 
 
-def build_download_response(query, delim=None):
-    data = csv_report(query, delim).getvalue()
+def build_download_response(query, delim=None, user=None):
+    data = csv_report(query, delim, user).getvalue()
     response = HttpResponse(data, content_type='text/csv')
     response['Content-Disposition'] = 'attachment; filename="%s.csv"' % (
         get_filename_for_title(query.title)
     )
     response['Content-Length'] = len(data)
     return response
 
 
-def csv_report(query, delim=None):
+def csv_report(query, delim=None, user=None):
     try:
-        res = query.execute_query_only()
+        res = query.execute_query_only(executing_user=user)
         return write_csv(res.headers, res.data, delim)
     except DatabaseError as e:
         return str(e)
 
 
 # Helpers
```

## explorer/views.py

```diff
@@ -121,22 +121,22 @@
             return HttpResponse(content={'message': 'message was sent successfully'})
     return HttpResponse(status=403)
 
 
 def _csv_response(request, query_id, stream=False, delim=None):
     query = get_object_or_404(Query, pk=query_id)
     query.params = url_get_params(request)
-    return build_stream_response(query, delim) if stream else build_download_response(query, delim)
+    return build_stream_response(query, delim, user=request.user) if stream else build_download_response(query, delim, user=request.user)
 
 
 @change_permission
 @require_POST
 def download_csv_from_sql(request):
     sql = request.POST.get('sql')
-    return build_download_response(Query(sql=sql, title="Playground", params=url_get_params(request)))
+    return build_download_response(Query(sql=sql, title="Playground", params=url_get_params(request)), user=request.user)
 
 
 @change_permission
 @require_GET
 def schema(request):
     return render_to_response('explorer/schema.html', {'schema': schema_info()})
```

## Comparing `manik_django_sql_explorer_test-0.0.4.dist-info/LICENSE` & `manik_django_sql_explorer_test-0.0.5.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `manik_django_sql_explorer_test-0.0.4.dist-info/METADATA` & `manik_django_sql_explorer_test-0.0.5.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: manik-django-sql-explorer-test
-Version: 0.0.4
+Version: 0.0.5
 Summary: A pluggable app that allows users (admins) to execute SQL, view, and export the results. Inspired by Stack Exchange Data Explorer.
 Home-page: https://github.com/epantry/django-sql-explorer
 Author: Chris Clark
 Author-email: chris@untrod.com
 License: MIT
 Keywords: django sql explorer reports reporting csv database query
 Classifier: Development Status :: 5 - Production/Stable
```

## Comparing `manik_django_sql_explorer_test-0.0.4.dist-info/RECORD` & `manik_django_sql_explorer_test-0.0.5.dist-info/RECORD`

 * *Files 3% similar despite different names*

```diff
@@ -2,28 +2,28 @@
 explorer/__init__.pyc,sha256=sLjuL5IG7OSxhjlotVhCxx24UmRhyFTZ2pBw8rCBZZQ,785
 explorer/actions.py,sha256=9HXZJasw4KInj2sJjFA1V2kr-x6TBQv8-LCgfz6AjbY,1632
 explorer/actions.pyc,sha256=vhSCCjSa4mEnvs0yV0TvdYEl5bEB1Vve7TJpp3lJZLY,2540
 explorer/admin.py,sha256=kxspF9IE1I-klJjonhNU8rIkR1N9qCU8faItUSUvyys,375
 explorer/admin.pyc,sha256=uQIW-5b63qw1Yh2lYJe7zlZS95WF7MtCyBU7zxyt-Sg,750
 explorer/app_settings.py,sha256=2i1CIZEc9V8PGqA39-3dG6bBkuHhWnUpu1JxoMUaND0,2380
 explorer/app_settings.pyc,sha256=teLeQqq4siDdHdY8nBbRUnf837D5j9T9tE5JZPixPco,2541
-explorer/constants.py,sha256=9A5Y2r2vRTGWfyKHSzyGIUmSihEBuDVjGKBpWtZWJl0,545
+explorer/constants.py,sha256=9NEPGVFnJ6LxmTDElhvP1LFWee9KRyPtgn1krpAUjYQ,548
 explorer/constants.pyc,sha256=vfNY1SSEdgvKnVh-OUbrwpD1GmdVkZOiy7nubrOgPwU,388
 explorer/counter.py,sha256=VHqsayUogidDwQ79PcRLox-vk8JfL8obQBlKeX3Bp-w,2054
 explorer/forms.py,sha256=vfmoyUxfueFTfk-4qP_aRiVUdCTY9sVka0tcY8x48BQ,2039
 explorer/forms.pyc,sha256=u0FrNKkUjiAqSZB_txRTGz93xHZIx8gcTSCVFc_RaxU,3028
 explorer/models.py,sha256=NcVrGFcpBM78AZz9MAiH5yvP36Rn55Tx3dACf42JYQU,13485
 explorer/models.pyc,sha256=V--69kNjCT8GWanu2pKrO--fwN94vaDkT2eax0nlFAA,17187
 explorer/tasks.py,sha256=E9oASEaa1ujsCr7YDfCr6xfFWxftjtKO73EiColPeBk,2233
 explorer/tasks.pyc,sha256=b-LEa1DJu8RW93ZwtsHumrSlfAE05AO9xIVxqMtHxCQ,3469
 explorer/urls.py,sha256=uOcxG1clyuW7uGeqV1RFWmmkWG2gNXvb8-o_WjrgnAI,1265
 explorer/urls.pyc,sha256=l0Oa1kH5a7iUEdIOYEKmBoiTBZPnr_-EwJrWchP9q_Q,1401
-explorer/utils.py,sha256=xTeJNhpdGZzsJiYEHCfoNWTvlH4bJIeyJtEd0p6F8yU,11653
+explorer/utils.py,sha256=mDPRpTKhozSkgKt_V-2Qw4zy5cVP2MHaoaW24DsyKRc,11717
 explorer/utils.pyc,sha256=mdMyKEGr8G-EDIkPRteRaQlVoH0jb6rUSXgzm20W1Do,12909
-explorer/views.py,sha256=UZt0-VM770BfoT2usxYTGbFz5Pk6v_gt7JZRWQhtD8U,15149
+explorer/views.py,sha256=s2fr_NpyqCJiSwGrBimuRjq1wHtVBaGfbvWZ6NurhCU,15206
 explorer/views.pyc,sha256=6IrMDm2uUCbFfB9do3To7h_Z8grsQo5_iWZAIBQmMjE,17344
 explorer/__pycache__/__init__.cpython-310.pyc,sha256=DGKJpIpMHLia0dQtOh8iGo3bbPkH1C2DP2Xj610ELUg,628
 explorer/__pycache__/models.cpython-310.pyc,sha256=21oi42_5jYiZhlMdarkh-zD4jr8WK_ZXcI467_VO-nk,15356
 explorer/__pycache__/utils.cpython-310.pyc,sha256=mGzMbo0qQR61h_sSK5zagw7IF1mlg570LYAMYyk2o2s,11231
 explorer/migrations/0001_initial.py,sha256=8ZTRFFkznebXTNIN4M3IHWHUwpMW0WS6tLHEfhUWfkw,1909
 explorer/migrations/0001_initial.pyc,sha256=oTyPPT5UWxH2SN3JCRtKGXd8_IzC7EFl3ji3Mdxrn2E,1878
 explorer/migrations/0002_auto_20150501_1515.py,sha256=naK6Nz9pCzS1jbfbzUzs6lT68-KUW0cFFOLGZz4vGsg,511
@@ -70,13 +70,13 @@
 explorer/tests/test_views.py,sha256=J_gapZu2A4AEJzjuuQfT_ey0zRe0vE_MNmIkFcYwo14,19387
 explorer/tests/test_views.pyc,sha256=O_-Q2tCZ8SIVaM_3Dz1Q_w-CFJm7y05vytBw_2lygaY,26789
 explorer/tests/urls.py,sha256=0rzxCRImd1IivOGwpOtNPI5Tnt-jiKp8hTTzxx4Qf34,222
 explorer/tests/urls.pyc,sha256=xLPEcO1jsVdozRZ0VKfGfgdiVbOOwkgYLXWcEs8AxNs,461
 explorer/tests/utils.py,sha256=1q4L4sHfxjXEv9LpTQWrJbV6TN_4FtExQDJt80Tdi0g,928
 explorer/tests/__pycache__/__init__.cpython-310.pyc,sha256=ebq1LVQxkJsUJF-zQGgAeWdJRu2DPMEnPZ5see7JMgA,169
 explorer/tests/__pycache__/settings.cpython-310.pyc,sha256=ugDmup2j_0p0AyU1yxhWEuqkq4Inlw_Z0vZ5_vf72sQ,1473
-manik_django_sql_explorer_test-0.0.4.dist-info/AUTHORS,sha256=-yOIuXJ7TC0-m-gAy0Gjc3ez1eK0a-o7u9B7WCgqB6Y,244
-manik_django_sql_explorer_test-0.0.4.dist-info/LICENSE,sha256=hyOjdzZR7ljYNZbISAWLjgNRz6_b3-5EQfz2hOsvg3g,1090
-manik_django_sql_explorer_test-0.0.4.dist-info/METADATA,sha256=Y2ZIuVPp9VKC2SqLJlmY8LhGcoJ-ctTu1k8V7c0Daho,15994
-manik_django_sql_explorer_test-0.0.4.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-manik_django_sql_explorer_test-0.0.4.dist-info/top_level.txt,sha256=HS5-rAbNJAJEVP0OygxhpNOCiXv092OahmzE5wX-k4s,9
-manik_django_sql_explorer_test-0.0.4.dist-info/RECORD,,
+manik_django_sql_explorer_test-0.0.5.dist-info/AUTHORS,sha256=-yOIuXJ7TC0-m-gAy0Gjc3ez1eK0a-o7u9B7WCgqB6Y,244
+manik_django_sql_explorer_test-0.0.5.dist-info/LICENSE,sha256=hyOjdzZR7ljYNZbISAWLjgNRz6_b3-5EQfz2hOsvg3g,1090
+manik_django_sql_explorer_test-0.0.5.dist-info/METADATA,sha256=YYTpmfJjNnHtJ3xmgswNJ0SjTnfDaZwIFMSwzKzFFLs,15994
+manik_django_sql_explorer_test-0.0.5.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+manik_django_sql_explorer_test-0.0.5.dist-info/top_level.txt,sha256=HS5-rAbNJAJEVP0OygxhpNOCiXv092OahmzE5wX-k4s,9
+manik_django_sql_explorer_test-0.0.5.dist-info/RECORD,,
```

