# Comparing `tmp/ansimarkup-1.5.0.tar.gz` & `tmp/ansimarkup-2.0.0.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "ansimarkup-1.5.0.tar", last modified: Wed Jan 27 15:37:12 2021, max compression
+gzip compressed data, was "ansimarkup-2.0.0.tar", last modified: Tue Aug  8 23:28:07 2023, max compression
```

## Comparing `ansimarkup-1.5.0.tar` & `ansimarkup-2.0.0.tar`

### file list

```diff
@@ -1,22 +1,22 @@
-drwxrwx---   0 gvalkov   (1000) gvalkov   (1000)        0 2021-01-27 15:37:12.078594 ansimarkup-1.5.0/
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)     1514 2020-02-03 22:56:35.000000 ansimarkup-1.5.0/LICENSE
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)       15 2020-02-03 22:56:35.000000 ansimarkup-1.5.0/MANIFEST.in
--rw-rw----   0 gvalkov   (1000) gvalkov   (1000)    12387 2021-01-27 15:37:12.078594 ansimarkup-1.5.0/PKG-INFO
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)     8770 2021-01-27 15:35:24.000000 ansimarkup-1.5.0/README.rst
-drwxrwx---   0 gvalkov   (1000) gvalkov   (1000)        0 2021-01-27 15:37:12.078594 ansimarkup-1.5.0/ansimarkup/
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)      353 2020-02-03 22:56:38.000000 ansimarkup-1.5.0/ansimarkup/__init__.py
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)      604 2021-01-27 15:25:44.000000 ansimarkup-1.5.0/ansimarkup/__main__.py
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)      259 2020-02-03 22:56:38.000000 ansimarkup-1.5.0/ansimarkup/ansi.py
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)      111 2020-02-03 22:56:38.000000 ansimarkup-1.5.0/ansimarkup/compat.py
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)      491 2020-02-03 22:56:38.000000 ansimarkup-1.5.0/ansimarkup/logformatter.py
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)     7622 2020-02-03 22:56:38.000000 ansimarkup-1.5.0/ansimarkup/markup.py
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)     2804 2020-02-03 22:56:38.000000 ansimarkup-1.5.0/ansimarkup/tags.py
-drwxrwx---   0 gvalkov   (1000) gvalkov   (1000)        0 2021-01-27 15:37:12.078594 ansimarkup-1.5.0/ansimarkup.egg-info/
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)    12387 2021-01-27 15:37:12.000000 ansimarkup-1.5.0/ansimarkup.egg-info/PKG-INFO
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)      400 2021-01-27 15:37:12.000000 ansimarkup-1.5.0/ansimarkup.egg-info/SOURCES.txt
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)        1 2021-01-27 15:37:12.000000 ansimarkup-1.5.0/ansimarkup.egg-info/dependency_links.txt
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)      151 2021-01-27 15:37:12.000000 ansimarkup-1.5.0/ansimarkup.egg-info/requires.txt
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)       11 2021-01-27 15:37:12.000000 ansimarkup-1.5.0/ansimarkup.egg-info/top_level.txt
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)        1 2020-02-03 22:56:38.000000 ansimarkup-1.5.0/ansimarkup.egg-info/zip-safe
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)      289 2021-01-27 15:37:12.079594 ansimarkup-1.5.0/setup.cfg
--rw-rw-r--   0 gvalkov   (1000) gvalkov   (1000)     1749 2021-01-27 15:36:32.000000 ansimarkup-1.5.0/setup.py
+drwxr-x---   0 gvalkov   (1000) gvalkov   (1000)        0 2023-08-08 23:28:07.053468 ansimarkup-2.0.0/
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)     1514 2023-08-08 21:44:49.000000 ansimarkup-2.0.0/LICENSE.txt
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)    11117 2023-08-08 23:28:07.053468 ansimarkup-2.0.0/PKG-INFO
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)     8716 2023-08-08 21:44:49.000000 ansimarkup-2.0.0/README.md
+drwxr-x---   0 gvalkov   (1000) gvalkov   (1000)        0 2023-08-08 23:28:07.051468 ansimarkup-2.0.0/ansimarkup/
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)      432 2023-08-08 21:44:49.000000 ansimarkup-2.0.0/ansimarkup/__init__.py
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)      605 2023-08-08 22:48:39.000000 ansimarkup-2.0.0/ansimarkup/__main__.py
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)      242 2023-08-08 21:44:49.000000 ansimarkup-2.0.0/ansimarkup/ansi.py
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)      492 2023-08-08 21:44:49.000000 ansimarkup-2.0.0/ansimarkup/logformatter.py
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)     8717 2023-08-08 21:44:49.000000 ansimarkup-2.0.0/ansimarkup/markup.py
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)     2610 2023-08-08 21:44:49.000000 ansimarkup-2.0.0/ansimarkup/tags.py
+drwxr-x---   0 gvalkov   (1000) gvalkov   (1000)        0 2023-08-08 23:28:07.052468 ansimarkup-2.0.0/ansimarkup.egg-info/
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)    11117 2023-08-08 23:28:07.000000 ansimarkup-2.0.0/ansimarkup.egg-info/PKG-INFO
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)      380 2023-08-08 23:28:07.000000 ansimarkup-2.0.0/ansimarkup.egg-info/SOURCES.txt
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)        1 2023-08-08 23:28:07.000000 ansimarkup-2.0.0/ansimarkup.egg-info/dependency_links.txt
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)       35 2023-08-08 23:28:07.000000 ansimarkup-2.0.0/ansimarkup.egg-info/requires.txt
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)       11 2023-08-08 23:28:07.000000 ansimarkup-2.0.0/ansimarkup.egg-info/top_level.txt
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)      911 2023-08-08 23:16:32.000000 ansimarkup-2.0.0/pyproject.toml
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)       38 2023-08-08 23:28:07.053468 ansimarkup-2.0.0/setup.cfg
+drwxr-x---   0 gvalkov   (1000) gvalkov   (1000)        0 2023-08-08 23:28:07.053468 ansimarkup-2.0.0/tests/
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)     1272 2023-08-08 21:44:49.000000 ansimarkup-2.0.0/tests/test_logging.py
+-rw-r-----   0 gvalkov   (1000) gvalkov   (1000)    10784 2023-08-08 21:44:49.000000 ansimarkup-2.0.0/tests/test_markup.py
```

### Comparing `ansimarkup-1.5.0/LICENSE` & `ansimarkup-2.0.0/LICENSE.txt`

 * *Files identical despite different names*

### Comparing `ansimarkup-1.5.0/README.rst` & `ansimarkup-2.0.0/README.md`

 * *Files 16% similar despite different names*

```diff
@@ -1,549 +1,545 @@
-00000000: 416e 7369 6d61 726b 7570 0a3d 3d3d 3d3d  Ansimarkup.=====
-00000010: 3d3d 3d3d 3d0a 0a2e 2e20 636c 6173 733a  =====.... class:
-00000020: 3a20 6e6f 2d77 6562 206e 6f2d 7064 660a  : no-web no-pdf.
-00000030: 0a7c 7079 7069 7c20 7c62 7569 6c64 7c20  .|pypi| |build| 
-00000040: 7c6c 6963 656e 7365 7c0a 0a0a 416e 7369  |license|...Ansi
-00000050: 6d61 726b 7570 2069 7320 616e 2058 4d4c  markup is an XML
-00000060: 2d6c 696b 6520 6d61 726b 7570 2066 6f72  -like markup for
-00000070: 2070 726f 6475 6369 6e67 2063 6f6c 6f72   producing color
-00000080: 6564 2074 6572 6d69 6e61 6c20 7465 7874  ed terminal text
-00000090: 2e0a 0a0a 2e2e 2063 6f64 652d 626c 6f63  ...... code-bloc
-000000a0: 6b3a 3a20 7079 7468 6f6e 0a0a 2020 6672  k:: python..  fr
-000000b0: 6f6d 2061 6e73 696d 6172 6b75 7020 696d  om ansimarkup im
-000000c0: 706f 7274 2061 6e73 6970 7269 6e74 2061  port ansiprint a
-000000d0: 7320 7072 696e 740a 0a20 2070 7269 6e74  s print..  print
-000000e0: 2822 3c62 3e62 6f6c 6420 7465 7874 3c2f  ("<b>bold text</
-000000f0: 623e 2229 290a 2020 7072 696e 7428 223c  b>")).  print("<
-00000100: 7265 643e 7265 6420 7465 7874 3c2f 7265  red>red text</re
-00000110: 643e 222c 2022 3c72 6564 2c67 7265 656e  d>", "<red,green
-00000120: 3e72 6564 2074 6578 7420 6f6e 2061 2067  >red text on a g
-00000130: 7265 656e 2062 6163 6b67 726f 756e 643c  reen background<
-00000140: 2f72 6564 2c67 7265 656e 3e22 290a 2020  /red,green>").  
-00000150: 7072 696e 7428 223c 6667 2023 6666 6166  print("<fg #ffaf
-00000160: 3030 3e6f 7261 6e67 6520 7465 7874 3c2f  00>orange text</
-00000170: 6667 2023 6666 6166 3030 3e22 290a 0a0a  fg #ffaf00>")...
-00000180: 496e 7374 616c 6c61 7469 6f6e 0a2d 2d2d  Installation.---
-00000190: 2d2d 2d2d 2d2d 2d2d 2d0a 0a54 6865 206c  ---------..The l
-000001a0: 6174 6573 7420 7374 6162 6c65 2076 6572  atest stable ver
-000001b0: 7369 6f6e 206f 6620 616e 7369 6d61 726b  sion of ansimark
-000001c0: 7570 2063 616e 2062 6520 696e 7374 616c  up can be instal
-000001d0: 6c65 6420 6672 6f6d 2070 7970 693a 0a0a  led from pypi:..
-000001e0: 2e2e 2063 6f64 652d 626c 6f63 6b3a 3a20  .. code-block:: 
-000001f0: 6261 7368 0a0a 2020 2420 7069 7020 696e  bash..  $ pip in
-00000200: 7374 616c 6c20 616e 7369 6d61 726b 7570  stall ansimarkup
-00000210: 0a0a 0a55 7361 6765 0a2d 2d2d 2d2d 0a0a  ...Usage.-----..
-00000220: 4261 7369 630a 7e7e 7e7e 7e0a 0a2e 2e20  Basic.~~~~~.... 
-00000230: 636f 6465 2d62 6c6f 636b 3a3a 2070 7974  code-block:: pyt
-00000240: 686f 6e0a 0a20 2066 726f 6d20 616e 7369  hon..  from ansi
-00000250: 6d61 726b 7570 2069 6d70 6f72 7420 7061  markup import pa
-00000260: 7273 652c 2061 6e73 6970 7269 6e74 0a0a  rse, ansiprint..
-00000270: 2020 2320 7061 7273 6528 2920 636f 6e76    # parse() conv
-00000280: 6572 7473 2074 6865 2074 6167 7320 746f  erts the tags to
-00000290: 2074 6865 2063 6f72 7265 7370 6f6e 6469   the correspondi
-000002a0: 6e67 2061 6e73 6920 6573 6361 7065 2073  ng ansi escape s
-000002b0: 6571 7565 6e63 652e 0a20 2070 6172 7365  equence..  parse
-000002c0: 2822 3c62 3e62 6f6c 643c 2f62 3e20 3c64  ("<b>bold</b> <d
-000002d0: 3e64 696d 3c2f 643e 2229 0a0a 2020 2320  >dim</d>")..  # 
-000002e0: 616e 7369 7072 696e 7428 2920 776f 726b  ansiprint() work
-000002f0: 7320 6578 6163 746c 7920 6c69 6b65 2070  s exactly like p
-00000300: 7269 6e74 2829 2c20 6275 7420 6669 7273  rint(), but firs
-00000310: 7420 7275 6e73 2070 6172 7365 2829 206f  t runs parse() o
-00000320: 6e20 616c 6c20 6172 6775 6d65 6e74 732e  n all arguments.
-00000330: 0a20 2061 6e73 6970 7269 6e74 2822 3c62  .  ansiprint("<b
-00000340: 3e62 6f6c 643c 2f62 3e22 2c20 223c 643e  >bold</b>", "<d>
-00000350: 6469 6d3c 2f64 3e22 290a 2020 616e 7369  dim</d>").  ansi
-00000360: 7072 696e 7428 223c 623e 626f 6c64 3c2f  print("<b>bold</
-00000370: 623e 222c 2022 3c64 3e64 696d 3c2f 643e  b>", "<d>dim</d>
-00000380: 222c 2073 6570 3d22 3a22 2c20 6669 6c65  ", sep=":", file
-00000390: 3d73 7973 2e73 7464 6572 7229 0a0a 0a43  =sys.stderr)...C
-000003a0: 6f6c 6f72 7320 616e 6420 7374 796c 6573  olors and styles
-000003b0: 0a7e 7e7e 7e7e 7e7e 7e7e 7e7e 7e7e 7e7e  .~~~~~~~~~~~~~~~
-000003c0: 7e7e 0a0a 2e2e 2063 6f64 652d 626c 6f63  ~~.... code-bloc
-000003d0: 6b3a 3a20 7079 7468 6f6e 0a0a 2020 2320  k:: python..  # 
-000003e0: 436f 6c6f 7273 206d 6179 2062 6520 7370  Colors may be sp
-000003f0: 6563 6966 6965 6420 696e 206f 6e65 206f  ecified in one o
-00000400: 6620 7365 7665 7261 6c20 7761 7973 2e0a  f several ways..
-00000410: 2020 7061 7273 6528 223c 7265 643e 7265    parse("<red>re
-00000420: 6420 666f 7265 6772 6f75 6e64 3c2f 7265  d foreground</re
-00000430: 643e 2229 0a20 2070 6172 7365 2822 3c52  d>").  parse("<R
-00000440: 4544 3e72 6564 2062 6163 6b67 726f 756e  ED>red backgroun
-00000450: 643c 2f52 4544 3e22 290a 2020 7061 7273  d</RED>").  pars
-00000460: 6528 223c 6667 2072 6564 3e72 6564 2066  e("<fg red>red f
-00000470: 6f72 6567 726f 756e 643c 2f66 6720 7265  oreground</fg re
-00000480: 643e 2229 0a20 2070 6172 7365 2822 3c62  d>").  parse("<b
-00000490: 6720 7265 643e 7265 6420 6261 636b 6772  g red>red backgr
-000004a0: 6f75 6e64 3c2f 6267 2072 6564 3e22 290a  ound</bg red>").
-000004b0: 0a20 2023 2058 7465 726d 2c20 6865 7820  .  # Xterm, hex 
-000004c0: 616e 6420 7267 6220 636f 6c6f 7273 2061  and rgb colors a
-000004d0: 7265 2061 6363 6570 7465 6420 6279 2074  re accepted by t
-000004e0: 6865 203c 6667 3e20 616e 6420 3c62 673e  he <fg> and <bg>
-000004f0: 2074 6167 732e 0a20 2070 6172 7365 2822   tags..  parse("
-00000500: 3c66 6720 3836 3e61 7175 616d 6172 696e  <fg 86>aquamarin
-00000510: 6520 666f 7265 6772 6f75 6e64 3c2f 6667  e foreground</fg
-00000520: 2038 363e 2229 0a20 2070 6172 7365 2822   86>").  parse("
-00000530: 3c62 6720 2330 3030 3035 663e 6461 726b  <bg #00005f>dark
-00000540: 2062 6c75 6520 6261 636b 6772 6f75 6e64   blue background
-00000550: 3c2f 6267 2023 3030 3030 3566 3e22 290a  </bg #00005f>").
-00000560: 2020 7061 7273 6528 223c 6667 2030 2c39    parse("<fg 0,9
-00000570: 352c 303e 6461 726b 2067 7265 656e 2066  5,0>dark green f
-00000580: 6f72 6567 726f 756e 643c 2f66 6720 302c  oreground</fg 0,
-00000590: 3935 2c30 3e22 290a 0a20 2023 2054 6167  95,0>")..  # Tag
-000005a0: 7320 6d61 7920 6265 206e 6573 7465 642e  s may be nested.
-000005b0: 0a20 2070 6172 7365 2822 3c72 3e3c 593e  .  parse("<r><Y>
-000005c0: 7265 6420 7465 7874 206f 6e20 6120 7965  red text on a ye
-000005d0: 6c6c 6f77 2066 6f72 6567 726f 756e 643c  llow foreground<
-000005e0: 2f59 3e3c 2f72 3e22 290a 0a20 2023 2054  /Y></r>")..  # T
-000005f0: 6865 2061 626f 7665 206d 6179 2062 6520  he above may be 
-00000600: 6d6f 7265 2063 6f6e 6369 7365 6c79 2077  more concisely w
-00000610: 7269 7474 656e 2061 733a 0a20 2070 6172  ritten as:.  par
-00000620: 7365 2822 3c72 2c79 3e72 6564 2074 6578  se("<r,y>red tex
-00000630: 7420 6f6e 2061 2079 656c 6c6f 7720 6261  t on a yellow ba
-00000640: 636b 6772 6f75 6e64 3c2f 722c 793e 2229  ckground</r,y>")
-00000650: 0a0a 2020 2320 5468 6973 2073 686f 7274  ..  # This short
-00000660: 6861 6e64 2061 6c73 6f20 7375 7070 6f72  hand also suppor
-00000670: 7473 2073 7479 6c65 2074 6167 732e 0a20  ts style tags.. 
-00000680: 2070 6172 7365 2822 3c62 2c72 2c79 3e62   parse("<b,r,y>b
-00000690: 6f6c 6420 7265 6420 7465 7874 206f 6e20  old red text on 
-000006a0: 6120 7965 6c6c 6f77 2062 6163 6b67 726f  a yellow backgro
-000006b0: 756e 643c 2f62 2c72 2c79 3e22 290a 2020  und</b,r,y>").  
-000006c0: 7061 7273 6528 223c 622c 722c 3e62 6f6c  parse("<b,r,>bol
-000006d0: 6420 7265 6420 7465 7874 3c2f 622c 722c  d red text</b,r,
-000006e0: 3e22 290a 2020 7061 7273 6528 223c 622c  >").  parse("<b,
-000006f0: 2c79 3e62 6f6c 6420 7265 6775 6c61 7220  ,y>bold regular 
-00000700: 7465 7874 206f 6e20 6120 7965 6c6c 6f77  text on a yellow
-00000710: 2062 6163 6b67 726f 756e 643c 2f62 2c2c   background</b,,
-00000720: 793e 2229 0a0a 2020 2320 556e 7265 636f  y>")..  # Unreco
-00000730: 676e 697a 6564 2074 6167 7320 6172 6520  gnized tags are 
-00000740: 6c65 6674 2061 732d 6973 2e0a 2020 7061  left as-is..  pa
-00000750: 7273 6528 223c 623e 3c65 6c65 6d65 6e74  rse("<b><element
-00000760: 313e 3c2f 656c 656d 656e 7431 3e3c 2f62  1></element1></b
-00000770: 3e22 290a 0a46 6f72 2061 206c 6973 7420  >")..For a list 
-00000780: 6f66 206d 6172 6b75 7020 7461 6773 2c20  of markup tags, 
-00000790: 706c 6561 7365 2072 6566 6572 2074 6f20  please refer to 
-000007a0: 6074 6167 732e 7079 605f 2e0a 0a0a 5573  `tags.py`_....Us
-000007b0: 6572 2d64 6566 696e 6564 2074 6167 730a  er-defined tags.
-000007c0: 7e7e 7e7e 7e7e 7e7e 7e7e 7e7e 7e7e 7e7e  ~~~~~~~~~~~~~~~~
-000007d0: 7e0a 0a43 7573 746f 6d20 7461 6773 206f  ~..Custom tags o
-000007e0: 7220 6f76 6572 7269 6465 7320 666f 7220  r overrides for 
-000007f0: 6578 6973 7469 6e67 2074 6167 7320 6d61  existing tags ma
-00000800: 7920 6265 2064 6566 696e 6564 2062 7920  y be defined by 
-00000810: 6372 6561 7469 6e67 2061 206e 6577 0a60  creating a new.`
-00000820: 6041 6e73 694d 6172 6b75 7060 6020 696e  `AnsiMarkup`` in
-00000830: 7374 616e 6365 3a0a 0a2e 2e20 636f 6465  stance:.... code
-00000840: 2d62 6c6f 636b 3a3a 2070 7974 686f 6e0a  -block:: python.
-00000850: 0a20 2066 726f 6d20 616e 7369 6d61 726b  .  from ansimark
-00000860: 7570 2069 6d70 6f72 7420 416e 7369 4d61  up import AnsiMa
-00000870: 726b 7570 2c20 7061 7273 650a 0a20 2075  rkup, parse..  u
-00000880: 7365 725f 7461 6773 203d 207b 0a20 2020  ser_tags = {.   
-00000890: 2020 2023 2041 6464 2061 206e 6577 2074     # Add a new t
-000008a0: 6167 2028 652e 672e 2077 6520 7761 6e74  ag (e.g. we want
-000008b0: 203c 696e 666f 3e20 746f 2065 7870 616e   <info> to expan
-000008c0: 6420 746f 2022 3c62 6f6c 643e 3c67 7265  d to "<bold><gre
-000008d0: 656e 3e22 292e 0a20 2020 2020 2022 696e  en>")..      "in
-000008e0: 666f 223a 2070 6172 7365 2822 3c62 3e3c  fo": parse("<b><
-000008f0: 673e 2229 0a0a 2020 2020 2020 2320 5468  g>")..      # Th
-00000900: 6520 616e 7369 2065 7363 6170 6520 7365  e ansi escape se
-00000910: 7175 656e 6365 2063 616e 2062 6520 7573  quence can be us
-00000920: 6564 2064 6972 6563 746c 792e 0a20 2020  ed directly..   
-00000930: 2020 2022 696e 666f 223a 2022 655c 7831     "info": "e\x1
-00000940: 625b 3332 6d5c 7831 625b 316d 222c 0a0a  b[32m\x1b[1m",..
-00000950: 2020 2020 2020 2320 5461 6720 6e61 6d65        # Tag name
-00000960: 7320 6d61 7920 616c 736f 2062 6520 6361  s may also be ca
-00000970: 6c6c 6162 6c65 732e 0a20 2020 2020 2022  llables..      "
-00000980: 6572 7222 3a20 206c 616d 6264 613a 2070  err":  lambda: p
-00000990: 6172 7365 2822 3c72 3e22 290a 0a20 2020  arse("<r>")..   
-000009a0: 2020 2023 2043 6f6c 6f72 7320 6d61 7920     # Colors may 
-000009b0: 616c 736f 2062 6520 6769 7665 6e20 636f  also be given co
-000009c0: 6e76 656e 6965 6e74 2074 6167 206e 616d  nvenient tag nam
-000009d0: 6573 2e0a 2020 2020 2020 226f 7261 6e67  es..      "orang
-000009e0: 6522 3a20 7061 7273 6528 223c 6667 2023  e": parse("<fg #
-000009f0: 6437 3837 3030 3e22 292c 0a0a 2020 2020  d78700>"),..    
-00000a00: 2020 2320 5573 6572 2d64 6566 696e 6564    # User-defined
-00000a10: 2074 6167 7320 616c 7761 7973 2074 616b   tags always tak
-00000a20: 6520 7072 6563 6564 656e 6365 206f 7665  e precedence ove
-00000a30: 7220 6578 6973 7469 6e67 2074 6167 732e  r existing tags.
-00000a40: 0a20 2020 2020 2022 626f 6c64 223a 2070  .      "bold": p
-00000a50: 6172 7365 2822 3c64 696d 3e22 290a 2020  arse("<dim>").  
-00000a60: 7d0a 0a20 2061 6d20 3d20 416e 7369 4d61  }..  am = AnsiMa
-00000a70: 726b 7570 2874 6167 733d 7573 6572 5f74  rkup(tags=user_t
-00000a80: 6167 7329 0a0a 2020 616d 2e70 6172 7365  ags)..  am.parse
-00000a90: 2822 3c69 6e66 6f3e 626f 6c64 2067 7265  ("<info>bold gre
-00000aa0: 656e 3c2f 696e 666f 3e22 290a 2020 616d  en</info>").  am
-00000ab0: 2e61 6e73 6970 7269 6e74 2822 3c65 7272  .ansiprint("<err
-00000ac0: 3e72 6564 3c2f 6572 723e 2229 0a0a 2020  >red</err>")..  
-00000ad0: 2320 4361 6c6c 696e 6720 7468 6520 696e  # Calling the in
-00000ae0: 7374 616e 6365 2069 7320 6571 7569 7661  stance is equiva
-00000af0: 6c65 6e74 2074 6f20 6361 6c6c 696e 6720  lent to calling 
-00000b00: 6974 7320 7061 7273 6520 6d65 7468 6f64  its parse method
-00000b10: 2e0a 2020 616d 2822 3c62 3e62 6f6c 643c  ..  am("<b>bold<
-00000b20: 2f62 3e22 2920 3d3d 2061 6d2e 7061 7273  /b>") == am.pars
-00000b30: 6528 223c 623e 626f 6c64 3c2f 623e 2229  e("<b>bold</b>")
-00000b40: 0a0a 0a41 6c69 676e 6d65 6e74 2061 6e64  ...Alignment and
-00000b50: 206c 656e 6774 680a 7e7e 7e7e 7e7e 7e7e   length.~~~~~~~~
-00000b60: 7e7e 7e7e 7e7e 7e7e 7e7e 7e7e 0a0a 416c  ~~~~~~~~~~~~..Al
-00000b70: 6967 6e69 6e67 2066 6f72 6d61 7474 6564  igning formatted
-00000b80: 2073 7472 696e 6773 2063 616e 2062 6520   strings can be 
-00000b90: 6368 616c 6c65 6e67 696e 6720 6265 6361  challenging beca
-00000ba0: 7573 6520 7468 6520 6c65 6e67 7468 206f  use the length o
-00000bb0: 6620 7468 6520 7265 6e64 6572 6564 0a73  f the rendered.s
-00000bc0: 7472 696e 6720 6973 2064 6966 6665 7265  tring is differe
-00000bd0: 6e74 2074 6861 7420 7468 6520 6e75 6d62  nt that the numb
-00000be0: 6572 206f 6620 7072 696e 7461 626c 6520  er of printable 
-00000bf0: 6368 6172 6163 7465 7273 2e20 436f 6e73  characters. Cons
-00000c00: 6964 6572 2074 6869 7320 6578 616d 706c  ider this exampl
-00000c10: 653a 0a0a 2e2e 2063 6f64 652d 626c 6f63  e:.... code-bloc
-00000c20: 6b3a 3a20 7079 7468 6f6e 0a0a 2020 3e3e  k:: python..  >>
-00000c30: 3e20 6120 3d20 277c 207b 3a33 307d 207c  > a = '| {:30} |
-00000c40: 272e 666f 726d 6174 2827 6162 6327 290a  '.format('abc').
-00000c50: 2020 3e3e 3e20 6220 3d20 277c 207b 3a33    >>> b = '| {:3
-00000c60: 307d 207c 272e 666f 726d 6174 2870 6172  0} |'.format(par
-00000c70: 7365 2827 3c62 3e61 6263 3c2f 623e 2729  se('<b>abc</b>')
-00000c80: 290a 2020 3e3e 3e20 7072 696e 7428 612c  ).  >>> print(a,
-00000c90: 2062 2c20 7365 703d 275c 6e27 290a 2020   b, sep='\n').  
-00000ca0: 7c20 6162 6320 2020 2020 2020 2020 2020  | abc           
-00000cb0: 2020 2020 2020 2020 207c 0a20 207c 2061           |.  | a
-00000cc0: 6263 2020 2020 2020 2020 2020 2020 2020  bc              
-00000cd0: 2020 2020 2020 2020 2020 2020 2020 7c0a                |.
-00000ce0: 0a54 6869 7320 6361 6e20 6265 2061 6464  .This can be add
-00000cf0: 7265 7373 6564 2062 7920 7573 696e 6720  ressed by using 
-00000d00: 7468 6520 6060 616e 7369 7374 7269 6e67  the ``ansistring
-00000d10: 6060 2066 756e 6374 696f 6e20 6f72 2074  `` function or t
-00000d20: 6865 0a60 6041 6e73 694d 6172 6b75 702e  he.``AnsiMarkup.
-00000d30: 7374 7269 6e67 286d 6172 6b75 7029 6060  string(markup)``
-00000d40: 206d 6574 686f 642c 2077 6869 6368 2068   method, which h
-00000d50: 6173 2074 6865 2066 6f6c 6c6f 7769 6e67  as the following
-00000d60: 2075 7365 6675 6c20 7072 6f70 6572 7469   useful properti
-00000d70: 6573 3a0a 0a2e 2e20 636f 6465 2d62 6c6f  es:.... code-blo
-00000d80: 636b 3a3a 2070 7974 686f 6e0a 0a20 203e  ck:: python..  >
-00000d90: 3e3e 2073 203d 2061 6e73 6973 7472 696e  >> s = ansistrin
-00000da0: 6728 273c 623e 6162 633c 2f62 3e27 290a  g('<b>abc</b>').
-00000db0: 2020 3e3e 3e20 7072 696e 7428 7265 7072    >>> print(repr
-00000dc0: 2873 292c 2027 2d3e 272c 2073 290a 2020  (s), '->', s).  
-00000dd0: 3c62 3e61 6263 3c2f 623e 202d 3e20 6162  <b>abc</b> -> ab
-00000de0: 6320 2023 2061 6263 2069 7320 7072 696e  c  # abc is prin
-00000df0: 7465 6420 696e 2062 6f6c 640a 2020 3e3e  ted in bold.  >>
-00000e00: 3e20 6c65 6e28 7329 2c20 6c65 6e28 616d  > len(s), len(am
-00000e10: 2e70 6172 7365 2827 3c62 3e61 6263 3c2f  .parse('<b>abc</
-00000e20: 623e 2729 2c20 732e 6465 6c74 610a 2020  b>'), s.delta.  
-00000e30: 332c 2031 312c 2038 0a0a 5769 7468 2074  3, 11, 8..With t
-00000e40: 6865 2068 656c 7020 6f66 2074 6865 2060  he help of the `
-00000e50: 6064 656c 7461 6060 2070 726f 7065 7274  `delta`` propert
-00000e60: 792c 2069 7420 6973 2065 6173 7920 746f  y, it is easy to
-00000e70: 2061 6c69 676e 2074 6865 2073 7472 696e   align the strin
-00000e80: 6773 2069 6e20 7468 650a 6162 6f76 6520  gs in the.above 
-00000e90: 6578 616d 706c 653a 0a0a 2e2e 2063 6f64  example:.... cod
-00000ea0: 652d 626c 6f63 6b3a 3a20 7079 7468 6f6e  e-block:: python
-00000eb0: 0a0a 2020 3e3e 3e20 7320 3d20 616e 7369  ..  >>> s = ansi
-00000ec0: 7374 7269 6e67 2827 3c62 3e61 6263 3c2f  string('<b>abc</
-00000ed0: 623e 2729 0a20 203e 3e3e 2061 203d 2027  b>').  >>> a = '
-00000ee0: 7c20 7b3a 7b77 6964 7468 7d7d 207c 272e  | {:{width}} |'.
-00000ef0: 666f 726d 6174 2827 6162 6327 2c20 7769  format('abc', wi
-00000f00: 6474 683d 3330 290a 2020 3e3e 3e20 6220  dth=30).  >>> b 
-00000f10: 3d20 277c 207b 3a7b 7769 6474 687d 7d20  = '| {:{width}} 
-00000f20: 7c27 2e66 6f72 6d61 7428 732c 2077 6964  |'.format(s, wid
-00000f30: 7468 3d28 3330 202b 2073 2e64 656c 7461  th=(30 + s.delta
-00000f40: 2929 0a20 203e 3e3e 2070 7269 6e74 2861  )).  >>> print(a
-00000f50: 2c20 622c 2073 6570 3d27 5c6e 2729 0a20  , b, sep='\n'). 
-00000f60: 207c 2061 6263 2020 2020 2020 2020 2020   | abc          
-00000f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000f80: 2020 7c0a 2020 7c20 6162 6320 2020 2020    |.  | abc     
-00000f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000fa0: 2020 2020 2020 207c 0a0a 0a4f 7468 6572         |...Other
-00000fb0: 2066 6561 7475 7265 730a 7e7e 7e7e 7e7e   features.~~~~~~
-00000fc0: 7e7e 7e7e 7e7e 7e7e 0a0a 5468 6520 6465  ~~~~~~~~..The de
-00000fd0: 6661 756c 7420 7461 6720 7365 7061 7261  fault tag separa
-00000fe0: 746f 7273 2063 616e 2062 6520 6368 616e  tors can be chan
-00000ff0: 6765 6420 6279 2070 6173 7369 6e67 2074  ged by passing t
-00001000: 6865 2060 6074 6167 5f73 6570 6060 2061  he ``tag_sep`` a
-00001010: 7267 756d 656e 7420 746f 0a60 6041 6e73  rgument to.``Ans
-00001020: 694d 6172 6b75 7060 603a 0a0a 2e2e 2063  iMarkup``:.... c
-00001030: 6f64 652d 626c 6f63 6b3a 3a20 7079 7468  ode-block:: pyth
-00001040: 6f6e 0a0a 2020 6672 6f6d 2061 6e73 696d  on..  from ansim
-00001050: 6172 6b75 7020 696d 706f 7274 2041 6e73  arkup import Ans
-00001060: 694d 6172 6b75 700a 0a20 2061 6d20 3d20  iMarkup..  am = 
-00001070: 416e 7369 4d61 726b 7570 2874 6167 5f73  AnsiMarkup(tag_s
-00001080: 6570 3d22 7b7d 2229 0a20 2061 6d2e 7061  ep="{}").  am.pa
-00001090: 7273 6528 227b 627d 7b72 7d62 6f6c 6420  rse("{b}{r}bold 
-000010a0: 7265 647b 2f62 7d7b 2f72 7d22 290a 0a4d  red{/b}{/r}")..M
-000010b0: 6172 6b75 7020 7461 6773 2063 616e 2062  arkup tags can b
-000010c0: 6520 7265 6d6f 7665 6420 7573 696e 6720  e removed using 
-000010d0: 7468 6520 6060 7374 7269 7028 2960 6020  the ``strip()`` 
-000010e0: 6d65 7468 6f64 3a0a 0a2e 2e20 636f 6465  method:.... code
-000010f0: 2d62 6c6f 636b 3a3a 2070 7974 686f 6e0a  -block:: python.
-00001100: 0a20 2066 726f 6d20 616e 7369 6d61 726b  .  from ansimark
-00001110: 7570 2069 6d70 6f72 7420 416e 7369 4d61  up import AnsiMa
-00001120: 726b 7570 0a0a 2020 616d 203d 2041 6e73  rkup..  am = Ans
-00001130: 694d 6172 6b75 7028 290a 2020 616d 2e73  iMarkup().  am.s
-00001140: 7472 6970 2822 3c62 3e3c 723e 626f 6c64  trip("<b><r>bold
-00001150: 2072 6564 3c2f 623e 3c2f 723e 2229 0a0a   red</b></r>")..
-00001160: 5468 6520 6060 7374 7269 6374 6060 206f  The ``strict`` o
-00001170: 7074 696f 6e20 696e 7374 7275 6374 7320  ption instructs 
-00001180: 7468 6520 7061 7273 6572 2074 6f20 7261  the parser to ra
-00001190: 6973 6520 6060 4d69 736d 6174 6368 6564  ise ``Mismatched
-000011a0: 5461 6760 6020 6966 206f 7065 6e69 6e67  Tag`` if opening
-000011b0: 0a74 6167 7320 646f 6e27 7420 6861 7665  .tags don't have
-000011c0: 2063 6f72 7265 7370 6f6e 6469 6e67 2063   corresponding c
-000011d0: 6c6f 7369 6e67 2074 6167 733a 0a0a 2e2e  losing tags:....
-000011e0: 2063 6f64 652d 626c 6f63 6b3a 3a20 7079   code-block:: py
-000011f0: 7468 6f6e 0a0a 2020 6672 6f6d 2061 6e73  thon..  from ans
-00001200: 696d 6172 6b75 7020 696d 706f 7274 2041  imarkup import A
-00001210: 6e73 694d 6172 6b75 700a 0a20 2061 6d20  nsiMarkup..  am 
-00001220: 3d20 416e 7369 4d61 726b 7570 2873 7472  = AnsiMarkup(str
-00001230: 6963 743d 5472 7565 290a 2020 616d 2e70  ict=True).  am.p
-00001240: 6172 7365 2822 3c72 3e3c 623e 626f 6c64  arse("<r><b>bold
-00001250: 2072 6564 2229 0a20 2023 2061 6e73 696d   red").  # ansim
-00001260: 6172 6b75 702e 4d69 736d 6174 6368 6564  arkup.Mismatched
-00001270: 5461 673a 206f 7065 6e69 6e67 2074 6167  Tag: opening tag
-00001280: 2022 3c72 3e22 2068 6173 206e 6f20 636f   "<r>" has no co
-00001290: 7272 6573 706f 6e64 696e 6720 636c 6f73  rresponding clos
-000012a0: 696e 6720 7461 670a 0a0a 436f 6d6d 616e  ing tag...Comman
-000012b0: 642d 6c69 6e65 0a7e 7e7e 7e7e 7e7e 7e7e  d-line.~~~~~~~~~
-000012c0: 7e7e 7e0a 0a41 6e73 696d 6172 6b75 7020  ~~~..Ansimarkup 
-000012d0: 6d61 7920 616c 736f 2062 6520 7573 6564  may also be used
-000012e0: 206f 6e20 7468 6520 636f 6d6d 616e 642d   on the command-
-000012f0: 6c69 6e65 2e20 5468 6973 2077 6f72 6b73  line. This works
-00001300: 2061 7320 6966 2061 6c6c 0a61 7267 756d   as if all.argum
-00001310: 656e 7473 2077 6572 6520 7061 7373 6564  ents were passed
-00001320: 2074 6f20 6060 616e 7369 7072 696e 7428   to ``ansiprint(
-00001330: 2960 603a 3a0a 0a20 2024 2070 7974 686f  )``::..  $ pytho
-00001340: 6e20 2d6d 2061 6e73 696d 6172 6b75 7020  n -m ansimarkup 
-00001350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000013a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000013b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000013c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000013d0: 2020 2020 205b 3237 2f30 312f 3231 2020       [27/01/21  
-000013e0: 343a 3239 504d 2030 2030 735d 0a20 2055  4:29PM 0 0s].  U
-000013f0: 7361 6765 3a20 7079 7468 6f6e 202d 6d20  sage: python -m 
-00001400: 616e 7369 6d61 726b 7570 205b 3c61 7267  ansimarkup [<arg
-00001410: 3e20 5b3c 6172 673e 202e 2e2e 5d5d 0a0a  > [<arg> ...]]..
-00001420: 2020 4578 616d 706c 6520 7573 6167 653a    Example usage:
-00001430: 0a20 2020 2070 7974 686f 6e20 2d6d 2061  .    python -m a
-00001440: 6e73 696d 6172 6b75 7020 273c 623e 426f  nsimarkup '<b>Bo
-00001450: 6c64 3c2f 623e 2720 273c 723e 5265 643c  ld</b>' '<r>Red<
-00001460: 2f72 3e27 0a20 2020 2070 7974 686f 6e20  /r>'.    python 
-00001470: 2d6d 2061 6e73 696d 6172 6b75 7020 273c  -m ansimarkup '<
-00001480: 623e 3c72 3e42 6f6c 6420 5265 643c 2f72  b><r>Bold Red</r
-00001490: 3e3c 2f62 3e27 0a20 2020 2070 7974 686f  ></b>'.    pytho
-000014a0: 6e20 2d6d 2061 6e73 696d 6172 6b75 7020  n -m ansimarkup 
-000014b0: 3c20 696e 7075 742d 7769 7468 2d6d 6172  < input-with-mar
-000014c0: 6b75 702e 7478 740a 2020 2020 6563 686f  kup.txt.    echo
-000014d0: 2027 3c62 3e42 6f6c 643c 2f62 3e27 207c   '<b>Bold</b>' |
-000014e0: 2070 7974 686f 6e20 2d6d 2061 6e73 696d   python -m ansim
-000014f0: 6172 6b75 700a 0a0a 4c6f 6767 696e 6720  arkup...Logging 
-00001500: 666f 726d 6174 7465 720a 7e7e 7e7e 7e7e  formatter.~~~~~~
-00001510: 7e7e 7e7e 7e7e 7e7e 7e7e 7e0a 0a41 6e73  ~~~~~~~~~~~..Ans
-00001520: 696d 6172 6b75 7020 616c 736f 2063 6f6d  imarkup also com
-00001530: 6573 2077 6974 6820 6120 666f 726d 6174  es with a format
-00001540: 7465 7220 666f 7220 7468 6520 7374 616e  ter for the stan
-00001550: 6461 7264 206c 6962 7261 7279 2060 6c6f  dard library `lo
-00001560: 6767 696e 6760 0a6d 6f64 756c 652e 2049  gging`.module. I
-00001570: 7420 6361 6e20 6265 2075 7365 6420 6173  t can be used as
-00001580: 3a0a 0a2e 2e20 636f 6465 2d62 6c6f 636b  :.... code-block
-00001590: 3a3a 2070 7974 686f 6e0a 0a20 2069 6d70  :: python..  imp
-000015a0: 6f72 7420 6c6f 6767 696e 670a 2020 6672  ort logging.  fr
-000015b0: 6f6d 2061 6e73 696d 6172 6b75 702e 6c6f  om ansimarkup.lo
-000015c0: 6766 6f72 6d61 7474 6572 2069 6d70 6f72  gformatter impor
-000015d0: 7420 416e 7369 4d61 726b 7570 466f 726d  t AnsiMarkupForm
-000015e0: 6174 7465 720a 0a20 206c 6f67 203d 206c  atter..  log = l
-000015f0: 6f67 6769 6e67 2e67 6574 4c6f 6767 6572  ogging.getLogger
-00001600: 2829 0a20 2068 646c 203d 206c 6f67 6769  ().  hdl = loggi
-00001610: 6e67 2e53 7472 6561 6d48 616e 646c 6572  ng.StreamHandler
-00001620: 2829 0a20 2066 6d74 203d 2041 6e73 694d  ().  fmt = AnsiM
-00001630: 6172 6b75 7046 6f72 6d61 7474 6572 2829  arkupFormatter()
-00001640: 0a20 2068 646c 2e73 6574 466f 726d 6174  .  hdl.setFormat
-00001650: 7465 7228 666d 7429 0a20 206c 6f67 2e61  ter(fmt).  log.a
-00001660: 6464 4861 6e64 6c65 7228 6864 6c29 0a0a  ddHandler(hdl)..
-00001670: 2020 6c6f 672e 696e 666f 2822 3c62 3e62    log.info("<b>b
-00001680: 6f6c 6420 7465 7874 3c2f 623e 2229 0a0a  old text</b>")..
-00001690: 0a57 696e 646f 7773 0a7e 7e7e 7e7e 7e7e  .Windows.~~~~~~~
-000016a0: 0a0a 416e 7369 6d61 726b 7570 2075 7365  ..Ansimarkup use
-000016b0: 7320 7468 6520 636f 6c6f 7261 6d61 5f20  s the colorama_ 
-000016c0: 6c69 6272 6172 7920 696e 7465 726e 616c  library internal
-000016d0: 6c79 2c20 7768 6963 6820 6d65 616e 7320  ly, which means 
-000016e0: 7468 6174 2057 696e 646f 7773 0a73 7570  that Windows.sup
-000016f0: 706f 7274 2066 6f72 2061 6e73 6920 6573  port for ansi es
-00001700: 6361 7065 2073 6571 7565 6e63 6573 2069  cape sequences i
-00001710: 7320 6176 6169 6c61 626c 6520 6279 2066  s available by f
-00001720: 6972 7374 2072 756e 6e69 6e67 3a0a 0a2e  irst running:...
-00001730: 2e20 636f 6465 2d62 6c6f 636b 3a3a 2070  . code-block:: p
-00001740: 7974 686f 6e0a 0a20 2069 6d70 6f72 7420  ython..  import 
-00001750: 636f 6c6f 7261 6d61 0a20 2063 6f6c 6f72  colorama.  color
-00001760: 616d 612e 696e 6974 2829 0a0a 466f 7220  ama.init()..For 
-00001770: 6d6f 7265 2069 6e66 6f72 6d61 7469 6f6e  more information
-00001780: 206f 6e20 5769 6e64 6f77 7320 7375 7070   on Windows supp
-00001790: 6f72 742c 2063 6f6e 7375 6c74 2074 6865  ort, consult the
-000017a0: 2022 5573 6167 6522 2073 6563 7469 6f6e   "Usage" section
-000017b0: 206f 6620 7468 650a 636f 6c6f 7261 6d61   of the.colorama
-000017c0: 5f20 646f 6375 6d65 6e74 6174 696f 6e2e  _ documentation.
-000017d0: 0a0a 0a50 6572 666f 726d 616e 6365 0a2d  ...Performance.-
-000017e0: 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 5768 696c  ----------..Whil
-000017f0: 6520 7468 6520 666f 6375 7320 6f66 2061  e the focus of a
-00001800: 6e73 696d 6172 6b75 7020 6973 2063 6f6e  nsimarkup is con
-00001810: 7665 6e69 656e 6365 2c20 6974 2064 6f65  venience, it doe
-00001820: 7320 7472 7920 746f 206b 6565 7020 7072  s try to keep pr
-00001830: 6f63 6573 7369 6e67 2074 6f0a 6120 6d69  ocessing to.a mi
-00001840: 6e69 6d75 6d2e 2054 6865 2060 6265 6e63  nimum. The `benc
-00001850: 686d 6172 6b2e 7079 605f 2073 6372 6970  hmark.py`_ scrip
-00001860: 7420 6174 7465 6d70 7473 2074 6f20 6265  t attempts to be
-00001870: 6e63 686d 6172 6b20 6469 6666 6572 656e  nchmark differen
-00001880: 7420 616e 7369 0a65 7363 6170 6520 636f  t ansi.escape co
-00001890: 6465 206c 6962 7261 7269 6573 3a3a 0a0a  de libraries::..
-000018a0: 2020 4265 6e63 686d 6172 6b20 313a 203c    Benchmark 1: <
-000018b0: 723e 3c62 3e72 6564 2062 6f6c 643c 2f62  r><b>red bold</b
-000018c0: 3e3c 2f72 3e0a 2020 2020 636f 6c6f 7261  ></r>.    colora
-000018d0: 6d61 2020 2020 2030 2e32 3939 3820 cebc  ma     0.2998 ..
-000018e0: 730a 2020 2020 7465 726d 636f 6c6f 7220  s.    termcolor 
-000018f0: 2020 2033 2e32 3333 3920 cebc 730a 2020     3.2339 ..s.  
-00001900: 2020 636f 6c72 2020 2020 2020 2020 2033    colr         3
-00001910: 2e36 3438 3320 cebc 730a 2020 2020 616e  .6483 ..s.    an
-00001920: 7369 6d61 726b 7570 2020 2036 2e38 3637  simarkup   6.867
-00001930: 3920 cebc 730a 2020 2020 7061 7374 656c  9 ..s.    pastel
-00001940: 2020 2020 2020 2032 382e 3835 3338 20ce         28.8538 .
-00001950: bc73 0a20 2020 2070 6c75 6d62 756d 2020  .s.    plumbum  
-00001960: 2020 2020 3533 2e35 3030 3420 cebc 730a      53.5004 ..s.
-00001970: 0a20 2042 656e 6368 6d61 726b 2032 3a20  .  Benchmark 2: 
-00001980: 3c72 3e3c 623e 7265 6420 626f 6c64 3c2f  <r><b>red bold</
-00001990: 623e 7265 643c 2f72 3e3c 623e 626f 6c64  b>red</r><b>bold
-000019a0: 3c2f 623e 0a20 2020 2063 6f6c 6f72 616d  </b>.    coloram
-000019b0: 6120 2020 2020 302e 3832 3639 20ce bc73  a     0.8269 ..s
-000019c0: 0a20 2020 2074 6572 6d63 6f6c 6f72 2020  .    termcolor  
-000019d0: 2020 382e 3932 3936 20ce bc73 0a20 2020    8.9296 ..s.   
-000019e0: 2061 6e73 696d 6172 6b75 7020 2020 392e   ansimarkup   9.
-000019f0: 3330 3939 20ce bc73 0a20 2020 2063 6f6c  3099 ..s.    col
-00001a00: 7220 2020 2020 2020 2020 392e 3632 3434  r         9.6244
-00001a10: 20ce bc73 0a20 2020 2070 6173 7465 6c20   ..s.    pastel 
-00001a20: 2020 2020 2020 3632 2e32 3031 3820 cebc        62.2018 ..
-00001a30: 730a 2020 2020 706c 756d 6275 6d20 2020  s.    plumbum   
-00001a40: 2020 2031 3230 2e38 3034 3820 cebc 730a     120.8048 ..s.
-00001a50: 0a0a 4c69 6d69 7461 7469 6f6e 730a 2d2d  ..Limitations.--
-00001a60: 2d2d 2d2d 2d2d 2d2d 2d0a 0a41 6e73 696d  ---------..Ansim
-00001a70: 6172 6b75 7020 6973 2061 2073 696d 706c  arkup is a simpl
-00001a80: 6520 7772 6170 7065 7220 6172 6f75 6e64  e wrapper around
-00001a90: 2063 6f6c 6f72 616d 612e 2049 7420 646f   colorama. It do
-00001aa0: 6573 2076 6572 7920 6c69 7474 6c65 2069  es very little i
-00001ab0: 6e20 7468 6520 7761 790a 6f66 2076 616c  n the way.of val
-00001ac0: 6964 6174 696e 6720 7468 6174 206d 6172  idating that mar
-00001ad0: 6b75 7020 7374 7269 6e67 7320 6172 6520  kup strings are 
-00001ae0: 7765 6c6c 2d66 6f72 6d65 642e 2054 6869  well-formed. Thi
-00001af0: 7320 6973 2061 2063 6f6e 7363 696f 7573  s is a conscious
-00001b00: 2064 6563 6973 696f 6e0a 7769 7468 2074   decision.with t
-00001b10: 6865 2067 6f61 6c20 6f66 206b 6565 7069  he goal of keepi
-00001b20: 6e67 2074 6869 6e67 7320 7369 6d70 6c65  ng things simple
-00001b30: 2061 6e64 2066 6173 742e 0a0a 556e 6261   and fast...Unba
-00001b40: 6c61 6e63 6564 206e 6573 7469 6e67 2c20  lanced nesting, 
-00001b50: 7375 6368 2061 7320 696e 2074 6865 2066  such as in the f
-00001b60: 6f6c 6c6f 7769 6e67 2065 7861 6d70 6c65  ollowing example
-00001b70: 2c20 7769 6c6c 2070 726f 6475 6365 2069  , will produce i
-00001b80: 6e63 6f72 7265 6374 0a6f 7574 7075 743a  ncorrect.output:
-00001b90: 3a0a 0a20 203c 723e 3c59 3e31 3c2f 723e  :..  <r><Y>1</r>
-00001ba0: 323c 2f59 3e0a 0a0a 546f 646f 0a2d 2d2d  2</Y>...Todo.---
-00001bb0: 2d0a 0a2d 204d 616e 7920 636f 726e 6572  -..- Many corner
-00001bc0: 2063 6173 6573 2072 656d 6169 6e20 746f   cases remain to
-00001bd0: 2062 6520 6669 7865 642e 0a0a 2d20 4d6f   be fixed...- Mo
-00001be0: 7265 2065 6c61 626f 7261 7465 2074 6573  re elaborate tes
-00001bf0: 7469 6e67 2e20 5468 6520 6375 7272 656e  ting. The curren
-00001c00: 7420 7465 7374 2073 7569 7465 206d 6f73  t test suite mos
-00001c10: 746c 7920 636f 7665 7273 2074 6865 0a20  tly covers the. 
-00001c20: 2022 6861 7070 7920 7061 7468 7322 2e0a   "happy paths"..
-00001c30: 0a2d 2052 6570 6c61 6365 2060 6074 6167  .- Replace ``tag
-00001c40: 5f6c 6973 742e 696e 6465 7860 6020 696e  _list.index`` in
-00001c50: 2060 6073 7562 5f65 6e64 6060 2077 6974   ``sub_end`` wit
-00001c60: 6820 736f 6d65 7468 696e 6720 6d6f 7265  h something more
-00001c70: 0a20 2065 6666 6963 6965 6e74 2028 692e  .  efficient (i.
-00001c80: 652e 2073 6f6d 6574 6869 6e67 206c 696b  e. something lik
-00001c90: 6520 616e 206f 7264 6572 6564 204d 756c  e an ordered Mul
-00001ca0: 7469 4469 6374 292e 0a0a 0a53 696d 696c  tiDict)....Simil
-00001cb0: 6172 206c 6962 7261 7269 6573 0a2d 2d2d  ar libraries.---
-00001cc0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a  --------------..
-00001cd0: 2d20 7061 7374 656c 5f3a 2062 7269 6e67  - pastel_: bring
-00001ce0: 2063 6f6c 6f72 7320 746f 2079 6f75 7220   colors to your 
-00001cf0: 7465 726d 696e 616c 0a2d 2060 706c 756d  terminal.- `plum
-00001d00: 6275 6d2e 636f 6c6f 7273 605f 3a20 736d  bum.colors`_: sm
-00001d10: 616c 6c20 7965 7420 6665 6174 7572 652d  all yet feature-
-00001d20: 7269 6368 206c 6962 7261 7279 2066 6f72  rich library for
-00001d30: 2073 6865 6c6c 2073 6372 6970 742d 6c69   shell script-li
-00001d40: 6b65 2070 726f 6772 616d 7320 696e 2050  ke programs in P
-00001d50: 7974 686f 6e0a 2d20 636f 6c72 5f3a 2065  ython.- colr_: e
-00001d60: 6173 7920 7465 726d 696e 616c 2063 6f6c  asy terminal col
-00001d70: 6f72 732c 2077 6974 6820 6368 6169 6e61  ors, with chaina
-00001d80: 626c 6520 6d65 7468 6f64 730a 0a0a 4c69  ble methods...Li
-00001d90: 6365 6e73 650a 2d2d 2d2d 2d2d 2d0a 0a41  cense.-------..A
-00001da0: 6e73 696d 6172 6b75 7020 6973 2072 656c  nsimarkup is rel
-00001db0: 6561 7365 6420 756e 6465 7220 7468 6520  eased under the 
-00001dc0: 7465 726d 7320 6f66 2074 6865 2060 5265  terms of the `Re
-00001dd0: 7669 7365 6420 4253 4420 4c69 6365 6e73  vised BSD Licens
-00001de0: 6560 5f2e 0a0a 0a2e 2e20 7c70 7970 697c  e`_...... |pypi|
-00001df0: 2069 6d61 6765 3a3a 2068 7474 7073 3a2f   image:: https:/
-00001e00: 2f69 6d67 2e73 6869 656c 6473 2e69 6f2f  /img.shields.io/
-00001e10: 7079 7069 2f76 2f61 6e73 696d 6172 6b75  pypi/v/ansimarku
-00001e20: 702e 7376 673f 7374 796c 653d 666c 6174  p.svg?style=flat
-00001e30: 2d73 7175 6172 6526 6c61 6265 6c3d 6c61  -square&label=la
-00001e40: 7465 7374 2532 3073 7461 626c 6525 3230  test%20stable%20
-00001e50: 7665 7273 696f 6e0a 2020 2020 3a74 6172  version.    :tar
-00001e60: 6765 743a 2068 7474 7073 3a2f 2f70 7970  get: https://pyp
-00001e70: 692e 7079 7468 6f6e 2e6f 7267 2f70 7970  i.python.org/pyp
-00001e80: 692f 616e 7369 6d61 726b 7570 0a20 2020  i/ansimarkup.   
-00001e90: 203a 616c 743a 204c 6174 6573 7420 7665   :alt: Latest ve
-00001ea0: 7273 696f 6e20 7265 6c65 6173 6564 206f  rsion released o
-00001eb0: 6e20 5079 5069 0a0a 2e2e 207c 6c69 6365  n PyPi.... |lice
-00001ec0: 6e73 657c 2069 6d61 6765 3a3a 2068 7474  nse| image:: htt
-00001ed0: 7073 3a2f 2f69 6d67 2e73 6869 656c 6473  ps://img.shields
-00001ee0: 2e69 6f2f 7079 7069 2f6c 2f61 6e73 696d  .io/pypi/l/ansim
-00001ef0: 6172 6b75 702e 7376 673f 7374 796c 653d  arkup.svg?style=
-00001f00: 666c 6174 2d73 7175 6172 6526 6c61 6265  flat-square&labe
-00001f10: 6c3d 6c69 6365 6e73 650a 2020 2020 3a74  l=license.    :t
-00001f20: 6172 6765 743a 2068 7474 7073 3a2f 2f70  arget: https://p
-00001f30: 7970 692e 7079 7468 6f6e 2e6f 7267 2f70  ypi.python.org/p
-00001f40: 7970 692f 616e 7369 6d61 726b 7570 0a20  ypi/ansimarkup. 
-00001f50: 2020 203a 616c 743a 2042 5344 2033 2d43     :alt: BSD 3-C
-00001f60: 6c61 7573 650a 0a2e 2e20 7c62 7569 6c64  lause.... |build
-00001f70: 7c20 696d 6167 653a 3a20 6874 7470 733a  | image:: https:
-00001f80: 2f2f 696d 672e 7368 6965 6c64 732e 696f  //img.shields.io
-00001f90: 2f74 7261 7669 732f 6776 616c 6b6f 762f  /travis/gvalkov/
-00001fa0: 7079 7468 6f6e 2d61 6e73 696d 6172 6b75  python-ansimarku
-00001fb0: 702f 6d61 7374 6572 2e73 7667 3f73 7479  p/master.svg?sty
-00001fc0: 6c65 3d66 6c61 742d 7371 7561 7265 266c  le=flat-square&l
-00001fd0: 6162 656c 3d62 7569 6c64 0a20 2020 203a  abel=build.    :
-00001fe0: 7461 7267 6574 3a20 6874 7470 3a2f 2f74  target: http://t
-00001ff0: 7261 7669 732d 6369 2e6f 7267 2f67 7661  ravis-ci.org/gva
-00002000: 6c6b 6f76 2f70 7974 686f 6e2d 616e 7369  lkov/python-ansi
-00002010: 6d61 726b 7570 0a20 2020 203a 616c 743a  markup.    :alt:
-00002020: 2042 7569 6c64 2073 7461 7475 730a 0a0a   Build status...
-00002030: 2e2e 205f 7461 6773 2e70 793a 2020 2020  .. _tags.py:    
-00002040: 2020 2020 6874 7470 733a 2f2f 6769 7468      https://gith
-00002050: 7562 2e63 6f6d 2f67 7661 6c6b 6f76 2f70  ub.com/gvalkov/p
-00002060: 7974 686f 6e2d 616e 7369 6d61 726b 7570  ython-ansimarkup
-00002070: 2f62 6c6f 622f 6d61 7374 6572 2f61 6e73  /blob/master/ans
-00002080: 696d 6172 6b75 702f 7461 6773 2e70 790a  imarkup/tags.py.
-00002090: 2e2e 205f 6265 6e63 686d 6172 6b2e 7079  .. _benchmark.py
-000020a0: 3a20 2020 6874 7470 733a 2f2f 6769 7468  :   https://gith
-000020b0: 7562 2e63 6f6d 2f67 7661 6c6b 6f76 2f70  ub.com/gvalkov/p
-000020c0: 7974 686f 6e2d 616e 7369 6d61 726b 7570  ython-ansimarkup
-000020d0: 2f62 6c6f 622f 6d61 7374 6572 2f74 6573  /blob/master/tes
-000020e0: 7473 2f62 656e 6368 6d61 726b 2e70 790a  ts/benchmark.py.
-000020f0: 0a2e 2e20 5f63 6f6c 6f72 616d 613a 2020  ... _colorama:  
-00002100: 2020 2020 2068 7474 7073 3a2f 2f70 7970       https://pyp
-00002110: 692e 7079 7468 6f6e 2e6f 7267 2f70 7970  i.python.org/pyp
-00002120: 692f 636f 6c6f 7261 6d61 0a2e 2e20 5f70  i/colorama... _p
-00002130: 6173 7465 6c3a 2020 2020 2020 2020 2068  astel:         h
-00002140: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00002150: 6d2f 7364 6973 7061 7465 722f 7061 7374  m/sdispater/past
-00002160: 656c 0a2e 2e20 5f70 6c75 6d62 756d 2e63  el... _plumbum.c
-00002170: 6f6c 6f72 733a 2068 7474 7073 3a2f 2f70  olors: https://p
-00002180: 6c75 6d62 756d 2e72 6561 6474 6865 646f  lumbum.readthedo
-00002190: 6373 2e69 6f2f 656e 2f6c 6174 6573 742f  cs.io/en/latest/
-000021a0: 636c 692e 6874 6d6c 2363 6f6c 6f72 730a  cli.html#colors.
-000021b0: 2e2e 205f 636f 6c72 3a20 2020 2020 2020  .. _colr:       
-000021c0: 2020 2020 6874 7470 733a 2f2f 7079 7069      https://pypi
-000021d0: 2e70 7974 686f 6e2e 6f72 672f 7079 7069  .python.org/pypi
-000021e0: 2f43 6f6c 722f 0a2e 2e20 5f60 5265 7669  /Colr/... _`Revi
-000021f0: 7365 6420 4253 4420 4c69 6365 6e73 6560  sed BSD License`
-00002200: 3a20 6874 7470 733a 2f2f 7261 772e 6769  : https://raw.gi
-00002210: 7468 7562 2e63 6f6d 2f67 7661 6c6b 6f76  thub.com/gvalkov
-00002220: 2f70 7974 686f 6e2d 616e 7369 6d61 726b  /python-ansimark
-00002230: 7570 2f6d 6173 7465 722f 4c49 4345 4e53  up/master/LICENS
-00002240: 450a                                     E.
+00000000: 2320 416e 7369 6d61 726b 7570 0a0a 3c70  # Ansimarkup..<p
+00000010: 3e0a 2020 2020 3c61 2068 7265 663d 2268  >.    <a href="h
+00000020: 7474 7073 3a2f 2f70 7970 692e 7079 7468  ttps://pypi.pyth
+00000030: 6f6e 2e6f 7267 2f70 7970 692f 616e 7369  on.org/pypi/ansi
+00000040: 6d61 726b 7570 223e 3c69 6d67 2061 6c74  markup"><img alt
+00000050: 3d22 7079 7069 2076 6572 7369 6f6e 2220  ="pypi version" 
+00000060: 7372 633d 2268 7474 7073 3a2f 2f69 6d67  src="https://img
+00000070: 2e73 6869 656c 6473 2e69 6f2f 7079 7069  .shields.io/pypi
+00000080: 2f76 2f61 6e73 696d 6172 6b75 702e 7376  /v/ansimarkup.sv
+00000090: 6722 3e3c 2f61 3e0a 2020 2020 3c61 2068  g"></a>.    <a h
+000000a0: 7265 663d 2268 7474 7073 3a2f 2f67 6974  ref="https://git
+000000b0: 6875 622e 636f 6d2f 6776 616c 6b6f 762f  hub.com/gvalkov/
+000000c0: 7079 7468 6f6e 2d61 6e73 696d 6172 6b75  python-ansimarku
+000000d0: 702f 6163 7469 6f6e 732f 776f 726b 666c  p/actions/workfl
+000000e0: 6f77 732f 7465 7374 732e 796d 6c3f 7175  ows/tests.yml?qu
+000000f0: 6572 793d 6272 616e 6368 3a6d 6169 6e22  ery=branch:main"
+00000100: 3e3c 696d 6720 616c 743d 2242 7569 6c64  ><img alt="Build
+00000110: 2073 7461 7475 7322 2073 7263 3d22 6874   status" src="ht
+00000120: 7470 733a 2f2f 696d 672e 7368 6965 6c64  tps://img.shield
+00000130: 732e 696f 2f67 6974 6875 622f 6163 7469  s.io/github/acti
+00000140: 6f6e 732f 776f 726b 666c 6f77 2f73 7461  ons/workflow/sta
+00000150: 7475 732f 6776 616c 6b6f 762f 7079 7468  tus/gvalkov/pyth
+00000160: 6f6e 2d61 6e73 696d 6172 6b75 702f 7465  on-ansimarkup/te
+00000170: 7374 732e 796d 6c3f 6272 616e 6368 3d6d  sts.yml?branch=m
+00000180: 6169 6e22 3e3c 2f61 3e0a 2020 2020 3c61  ain"></a>.    <a
+00000190: 2068 7265 663d 2268 7474 7073 3a2f 2f67   href="https://g
+000001a0: 6974 6875 622e 636f 6d2f 6776 616c 6b6f  ithub.com/gvalko
+000001b0: 762f 7079 7468 6f6e 2d61 6e73 696d 6172  v/python-ansimar
+000001c0: 6b75 702f 626c 6f62 2f6d 6169 6e2f 4c49  kup/blob/main/LI
+000001d0: 4345 4e53 452e 7478 7422 3e3c 696d 6720  CENSE.txt"><img 
+000001e0: 616c 743d 224c 6963 656e 7365 2220 7372  alt="License" sr
+000001f0: 633d 2268 7474 7073 3a2f 2f69 6d67 2e73  c="https://img.s
+00000200: 6869 656c 6473 2e69 6f2f 7079 7069 2f6c  hields.io/pypi/l
+00000210: 2f61 6e73 696d 6172 6b75 7022 3e3c 2f61  /ansimarkup"></a
+00000220: 3e0a 3c2f 703e 0a0a 416e 7369 6d61 726b  >.</p>..Ansimark
+00000230: 7570 2069 7320 616e 2058 4d4c 2d6c 696b  up is an XML-lik
+00000240: 6520 6d61 726b 7570 2066 6f72 2070 726f  e markup for pro
+00000250: 6475 6369 6e67 2063 6f6c 6f72 6564 2074  ducing colored t
+00000260: 6572 6d69 6e61 6c20 7465 7874 2e0a 0a60  erminal text...`
+00000270: 6060 2070 7974 686f 6e0a 6672 6f6d 2061  `` python.from a
+00000280: 6e73 696d 6172 6b75 7020 696d 706f 7274  nsimarkup import
+00000290: 2061 6e73 6970 7269 6e74 2061 7320 7072   ansiprint as pr
+000002a0: 696e 740a 0a70 7269 6e74 2822 3c62 3e62  int..print("<b>b
+000002b0: 6f6c 6420 7465 7874 3c2f 623e 2229 290a  old text</b>")).
+000002c0: 7072 696e 7428 223c 7265 643e 7265 6420  print("<red>red 
+000002d0: 7465 7874 3c2f 7265 643e 222c 2022 3c72  text</red>", "<r
+000002e0: 6564 2c67 7265 656e 3e72 6564 2074 6578  ed,green>red tex
+000002f0: 7420 6f6e 2061 2067 7265 656e 2062 6163  t on a green bac
+00000300: 6b67 726f 756e 643c 2f72 6564 2c67 7265  kground</red,gre
+00000310: 656e 3e22 290a 7072 696e 7428 223c 6667  en>").print("<fg
+00000320: 2023 6666 6166 3030 3e6f 7261 6e67 6520   #ffaf00>orange 
+00000330: 7465 7874 3c2f 6667 2023 6666 6166 3030  text</fg #ffaf00
+00000340: 3e22 290a 6060 600a 0a23 2320 496e 7374  >").```..## Inst
+00000350: 616c 6c61 7469 6f6e 0a0a 5468 6520 6c61  allation..The la
+00000360: 7465 7374 2073 7461 626c 6520 7665 7273  test stable vers
+00000370: 696f 6e20 6f66 2061 6e73 696d 6172 6b75  ion of ansimarku
+00000380: 7020 6361 6e20 6265 2069 6e73 7461 6c6c  p can be install
+00000390: 6564 2066 726f 6d20 5079 5069 3a0a 0a60  ed from PyPi:..`
+000003a0: 6060 2062 6173 680a 7079 7468 6f6e 3320  `` bash.python3 
+000003b0: 2d6d 2070 6970 2069 6e73 7461 6c6c 2061  -m pip install a
+000003c0: 6e73 696d 6172 6b75 700a 6060 600a 0a23  nsimarkup.```..#
+000003d0: 2320 5573 6167 650a 0a23 2323 2042 6173  # Usage..### Bas
+000003e0: 6963 0a0a 6060 6020 7079 7468 6f6e 0a66  ic..``` python.f
+000003f0: 726f 6d20 616e 7369 6d61 726b 7570 2069  rom ansimarkup i
+00000400: 6d70 6f72 7420 7061 7273 652c 2061 6e73  mport parse, ans
+00000410: 6970 7269 6e74 0a0a 2320 7061 7273 6528  iprint..# parse(
+00000420: 2920 636f 6e76 6572 7473 2074 6865 2074  ) converts the t
+00000430: 6167 7320 746f 2074 6865 2063 6f72 7265  ags to the corre
+00000440: 7370 6f6e 6469 6e67 2061 6e73 6920 6573  sponding ansi es
+00000450: 6361 7065 2073 6571 7565 6e63 652e 0a70  cape sequence..p
+00000460: 6172 7365 2822 3c62 3e62 6f6c 643c 2f62  arse("<b>bold</b
+00000470: 3e20 3c64 3e64 696d 3c2f 643e 2229 0a0a  > <d>dim</d>")..
+00000480: 2320 616e 7369 7072 696e 7428 2920 776f  # ansiprint() wo
+00000490: 726b 7320 6578 6163 746c 7920 6c69 6b65  rks exactly like
+000004a0: 2070 7269 6e74 2829 2c20 6275 7420 6669   print(), but fi
+000004b0: 7273 7420 7275 6e73 2070 6172 7365 2829  rst runs parse()
+000004c0: 206f 6e20 616c 6c20 6172 6775 6d65 6e74   on all argument
+000004d0: 732e 0a61 6e73 6970 7269 6e74 2822 3c62  s..ansiprint("<b
+000004e0: 3e62 6f6c 643c 2f62 3e22 2c20 223c 643e  >bold</b>", "<d>
+000004f0: 6469 6d3c 2f64 3e22 290a 616e 7369 7072  dim</d>").ansipr
+00000500: 696e 7428 223c 623e 626f 6c64 3c2f 623e  int("<b>bold</b>
+00000510: 222c 2022 3c64 3e64 696d 3c2f 643e 222c  ", "<d>dim</d>",
+00000520: 2073 6570 3d22 3a22 2c20 6669 6c65 3d73   sep=":", file=s
+00000530: 7973 2e73 7464 6572 7229 0a60 6060 0a0a  ys.stderr).```..
+00000540: 2323 2320 436f 6c6f 7273 2061 6e64 2073  ### Colors and s
+00000550: 7479 6c65 730a 0a60 6060 2070 7974 686f  tyles..``` pytho
+00000560: 6e0a 2320 436f 6c6f 7273 206d 6179 2062  n.# Colors may b
+00000570: 6520 7370 6563 6966 6965 6420 696e 206f  e specified in o
+00000580: 6e65 206f 6620 7365 7665 7261 6c20 7761  ne of several wa
+00000590: 7973 2e0a 7061 7273 6528 223c 7265 643e  ys..parse("<red>
+000005a0: 7265 6420 666f 7265 6772 6f75 6e64 3c2f  red foreground</
+000005b0: 7265 643e 2229 0a70 6172 7365 2822 3c52  red>").parse("<R
+000005c0: 4544 3e72 6564 2062 6163 6b67 726f 756e  ED>red backgroun
+000005d0: 643c 2f52 4544 3e22 290a 7061 7273 6528  d</RED>").parse(
+000005e0: 223c 6667 2072 6564 3e72 6564 2066 6f72  "<fg red>red for
+000005f0: 6567 726f 756e 643c 2f66 6720 7265 643e  eground</fg red>
+00000600: 2229 0a70 6172 7365 2822 3c62 6720 7265  ").parse("<bg re
+00000610: 643e 7265 6420 6261 636b 6772 6f75 6e64  d>red background
+00000620: 3c2f 6267 2072 6564 3e22 290a 0a23 2058  </bg red>")..# X
+00000630: 7465 726d 2c20 6865 7820 616e 6420 7267  term, hex and rg
+00000640: 6220 636f 6c6f 7273 2061 7265 2061 6363  b colors are acc
+00000650: 6570 7465 6420 6279 2074 6865 203c 6667  epted by the <fg
+00000660: 3e20 616e 6420 3c62 673e 2074 6167 732e  > and <bg> tags.
+00000670: 0a70 6172 7365 2822 3c66 6720 3836 3e61  .parse("<fg 86>a
+00000680: 7175 616d 6172 696e 6520 666f 7265 6772  quamarine foregr
+00000690: 6f75 6e64 3c2f 6667 2038 363e 2229 0a70  ound</fg 86>").p
+000006a0: 6172 7365 2822 3c62 6720 2330 3030 3035  arse("<bg #00005
+000006b0: 663e 6461 726b 2062 6c75 6520 6261 636b  f>dark blue back
+000006c0: 6772 6f75 6e64 3c2f 6267 2023 3030 3030  ground</bg #0000
+000006d0: 3566 3e22 290a 7061 7273 6528 223c 6667  5f>").parse("<fg
+000006e0: 2030 2c39 352c 303e 6461 726b 2067 7265   0,95,0>dark gre
+000006f0: 656e 2066 6f72 6567 726f 756e 643c 2f66  en foreground</f
+00000700: 6720 302c 3935 2c30 3e22 290a 0a23 2054  g 0,95,0>")..# T
+00000710: 6167 7320 6d61 7920 6265 206e 6573 7465  ags may be neste
+00000720: 642e 0a70 6172 7365 2822 3c72 3e3c 593e  d..parse("<r><Y>
+00000730: 7265 6420 7465 7874 206f 6e20 6120 7965  red text on a ye
+00000740: 6c6c 6f77 2066 6f72 6567 726f 756e 643c  llow foreground<
+00000750: 2f59 3e3c 2f72 3e22 290a 0a23 2054 6865  /Y></r>")..# The
+00000760: 2061 626f 7665 206d 6179 2062 6520 6d6f   above may be mo
+00000770: 7265 2063 6f6e 6369 7365 6c79 2077 7269  re concisely wri
+00000780: 7474 656e 2061 733a 0a70 6172 7365 2822  tten as:.parse("
+00000790: 3c72 2c79 3e72 6564 2074 6578 7420 6f6e  <r,y>red text on
+000007a0: 2061 2079 656c 6c6f 7720 6261 636b 6772   a yellow backgr
+000007b0: 6f75 6e64 3c2f 722c 793e 2229 0a0a 2320  ound</r,y>")..# 
+000007c0: 5468 6973 2073 686f 7274 6861 6e64 2061  This shorthand a
+000007d0: 6c73 6f20 7375 7070 6f72 7473 2073 7479  lso supports sty
+000007e0: 6c65 2074 6167 732e 0a70 6172 7365 2822  le tags..parse("
+000007f0: 3c62 2c72 2c79 3e62 6f6c 6420 7265 6420  <b,r,y>bold red 
+00000800: 7465 7874 206f 6e20 6120 7965 6c6c 6f77  text on a yellow
+00000810: 2062 6163 6b67 726f 756e 643c 2f62 2c72   background</b,r
+00000820: 2c79 3e22 290a 7061 7273 6528 223c 622c  ,y>").parse("<b,
+00000830: 722c 3e62 6f6c 6420 7265 6420 7465 7874  r,>bold red text
+00000840: 3c2f 622c 722c 3e22 290a 7061 7273 6528  </b,r,>").parse(
+00000850: 223c 622c 2c79 3e62 6f6c 6420 7265 6775  "<b,,y>bold regu
+00000860: 6c61 7220 7465 7874 206f 6e20 6120 7965  lar text on a ye
+00000870: 6c6c 6f77 2062 6163 6b67 726f 756e 643c  llow background<
+00000880: 2f62 2c2c 793e 2229 0a0a 2320 556e 7265  /b,,y>")..# Unre
+00000890: 636f 676e 697a 6564 2074 6167 7320 6172  cognized tags ar
+000008a0: 6520 6c65 6674 2061 732d 6973 2e0a 7061  e left as-is..pa
+000008b0: 7273 6528 223c 623e 3c65 6c65 6d65 6e74  rse("<b><element
+000008c0: 313e 3c2f 656c 656d 656e 7431 3e3c 2f62  1></element1></b
+000008d0: 3e22 290a 6060 600a 0a46 6f72 2061 206c  >").```..For a l
+000008e0: 6973 7420 6f66 206d 6172 6b75 7020 7461  ist of markup ta
+000008f0: 6773 2c20 706c 6561 7365 2072 6566 6572  gs, please refer
+00000900: 2074 6f20 5b74 6167 732e 7079 5d2e 0a0a   to [tags.py]...
+00000910: 2323 2320 5573 6572 2d64 6566 696e 6564  ### User-defined
+00000920: 2074 6167 730a 0a43 7573 746f 6d20 7461   tags..Custom ta
+00000930: 6773 206f 7220 6f76 6572 7269 6465 7320  gs or overrides 
+00000940: 666f 7220 6578 6973 7469 6e67 2074 6167  for existing tag
+00000950: 7320 6d61 7920 6265 2064 6566 696e 6564  s may be defined
+00000960: 2062 7920 6372 6561 7469 6e67 2061 0a6e   by creating a.n
+00000970: 6577 2060 416e 7369 4d61 726b 7570 6020  ew `AnsiMarkup` 
+00000980: 696e 7374 616e 6365 3a0a 0a60 6060 2070  instance:..``` p
+00000990: 7974 686f 6e0a 6672 6f6d 2061 6e73 696d  ython.from ansim
+000009a0: 6172 6b75 7020 696d 706f 7274 2041 6e73  arkup import Ans
+000009b0: 694d 6172 6b75 702c 2070 6172 7365 0a0a  iMarkup, parse..
+000009c0: 7573 6572 5f74 6167 7320 3d20 7b0a 2020  user_tags = {.  
+000009d0: 2020 2320 4164 6420 6120 6e65 7720 7461    # Add a new ta
+000009e0: 6720 2865 2e67 2e20 7765 2077 616e 7420  g (e.g. we want 
+000009f0: 3c69 6e66 6f3e 2074 6f20 6578 7061 6e64  <info> to expand
+00000a00: 2074 6f20 223c 626f 6c64 3e3c 6772 6565   to "<bold><gree
+00000a10: 6e3e 2229 2e0a 2020 2020 2269 6e66 6f22  n>")..    "info"
+00000a20: 3a20 7061 7273 6528 223c 623e 3c67 3e22  : parse("<b><g>"
+00000a30: 290a 0a20 2020 2023 2054 6865 2061 6e73  )..    # The ans
+00000a40: 6920 6573 6361 7065 2073 6571 7565 6e63  i escape sequenc
+00000a50: 6520 6361 6e20 6265 2075 7365 6420 6469  e can be used di
+00000a60: 7265 6374 6c79 2e0a 2020 2020 2269 6e66  rectly..    "inf
+00000a70: 6f22 3a20 2265 5c78 3162 5b33 326d 5c78  o": "e\x1b[32m\x
+00000a80: 3162 5b31 6d22 2c0a 0a20 2020 2023 2054  1b[1m",..    # T
+00000a90: 6167 206e 616d 6573 206d 6179 2061 6c73  ag names may als
+00000aa0: 6f20 6265 2063 616c 6c61 626c 6573 2e0a  o be callables..
+00000ab0: 2020 2020 2265 7272 223a 2020 6c61 6d62      "err":  lamb
+00000ac0: 6461 3a20 7061 7273 6528 223c 723e 2229  da: parse("<r>")
+00000ad0: 0a0a 2020 2020 2320 436f 6c6f 7273 206d  ..    # Colors m
+00000ae0: 6179 2061 6c73 6f20 6265 2067 6976 656e  ay also be given
+00000af0: 2063 6f6e 7665 6e69 656e 7420 7461 6720   convenient tag 
+00000b00: 6e61 6d65 732e 0a20 2020 2022 6f72 616e  names..    "oran
+00000b10: 6765 223a 2070 6172 7365 2822 3c66 6720  ge": parse("<fg 
+00000b20: 2364 3738 3730 303e 2229 2c0a 0a20 2020  #d78700>"),..   
+00000b30: 2023 2055 7365 722d 6465 6669 6e65 6420   # User-defined 
+00000b40: 7461 6773 2061 6c77 6179 7320 7461 6b65  tags always take
+00000b50: 2070 7265 6365 6465 6e63 6520 6f76 6572   precedence over
+00000b60: 2065 7869 7374 696e 6720 7461 6773 2e0a   existing tags..
+00000b70: 2020 2020 2262 6f6c 6422 3a20 7061 7273      "bold": pars
+00000b80: 6528 223c 6469 6d3e 2229 0a7d 0a0a 616d  e("<dim>").}..am
+00000b90: 203d 2041 6e73 694d 6172 6b75 7028 7461   = AnsiMarkup(ta
+00000ba0: 6773 3d75 7365 725f 7461 6773 290a 0a61  gs=user_tags)..a
+00000bb0: 6d2e 7061 7273 6528 223c 696e 666f 3e62  m.parse("<info>b
+00000bc0: 6f6c 6420 6772 6565 6e3c 2f69 6e66 6f3e  old green</info>
+00000bd0: 2229 0a61 6d2e 616e 7369 7072 696e 7428  ").am.ansiprint(
+00000be0: 223c 6572 723e 7265 643c 2f65 7272 3e22  "<err>red</err>"
+00000bf0: 290a 0a23 2043 616c 6c69 6e67 2074 6865  )..# Calling the
+00000c00: 2069 6e73 7461 6e63 6520 6973 2065 7175   instance is equ
+00000c10: 6976 616c 656e 7420 746f 2063 616c 6c69  ivalent to calli
+00000c20: 6e67 2069 7473 2070 6172 7365 206d 6574  ng its parse met
+00000c30: 686f 642e 0a61 6d28 223c 623e 626f 6c64  hod..am("<b>bold
+00000c40: 3c2f 623e 2229 203d 3d20 616d 2e70 6172  </b>") == am.par
+00000c50: 7365 2822 3c62 3e62 6f6c 643c 2f62 3e22  se("<b>bold</b>"
+00000c60: 290a 6060 600a 0a23 2323 2041 6c69 676e  ).```..### Align
+00000c70: 6d65 6e74 2061 6e64 206c 656e 6774 680a  ment and length.
+00000c80: 0a41 6c69 676e 696e 6720 666f 726d 6174  .Aligning format
+00000c90: 7465 6420 7374 7269 6e67 7320 6361 6e20  ted strings can 
+00000ca0: 6265 2063 6861 6c6c 656e 6769 6e67 2062  be challenging b
+00000cb0: 6563 6175 7365 2074 6865 206c 656e 6774  ecause the lengt
+00000cc0: 6820 6f66 2074 6865 0a72 656e 6465 7265  h of the.rendere
+00000cd0: 6420 7374 7269 6e67 2069 7320 6469 6666  d string is diff
+00000ce0: 6572 656e 7420 7468 6174 2074 6865 206e  erent that the n
+00000cf0: 756d 6265 7220 6f66 2070 7269 6e74 6162  umber of printab
+00000d00: 6c65 2063 6861 7261 6374 6572 732e 0a43  le characters..C
+00000d10: 6f6e 7369 6465 7220 7468 6973 2065 7861  onsider this exa
+00000d20: 6d70 6c65 3a0a 0a60 6060 2070 7974 686f  mple:..``` pytho
+00000d30: 6e0a 3e3e 3e20 6120 3d20 277c 207b 3a33  n.>>> a = '| {:3
+00000d40: 307d 207c 272e 666f 726d 6174 2827 6162  0} |'.format('ab
+00000d50: 6327 290a 3e3e 3e20 6220 3d20 277c 207b  c').>>> b = '| {
+00000d60: 3a33 307d 207c 272e 666f 726d 6174 2870  :30} |'.format(p
+00000d70: 6172 7365 2827 3c62 3e61 6263 3c2f 623e  arse('<b>abc</b>
+00000d80: 2729 290a 3e3e 3e20 7072 696e 7428 612c  ')).>>> print(a,
+00000d90: 2062 2c20 7365 703d 275c 6e27 290a 7c20   b, sep='\n').| 
+00000da0: 6162 6320 2020 2020 2020 2020 2020 2020  abc             
+00000db0: 2020 2020 2020 207c 0a7c 2061 6263 2020         |.| abc  
+00000dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000dd0: 2020 2020 2020 2020 2020 7c0a 6060 600a            |.```.
+00000de0: 0a54 6869 7320 6361 6e20 6265 2061 6464  .This can be add
+00000df0: 7265 7373 6564 2062 7920 7573 696e 6720  ressed by using 
+00000e00: 7468 6520 6061 6e73 6973 7472 696e 6760  the `ansistring`
+00000e10: 2066 756e 6374 696f 6e20 6f72 2074 6865   function or the
+00000e20: 0a60 416e 7369 4d61 726b 7570 2e73 7472  .`AnsiMarkup.str
+00000e30: 696e 6728 6d61 726b 7570 2960 206d 6574  ing(markup)` met
+00000e40: 686f 642c 2077 6869 6368 2068 6173 2074  hod, which has t
+00000e50: 6865 2066 6f6c 6c6f 7769 6e67 2075 7365  he following use
+00000e60: 6675 6c0a 7072 6f70 6572 7469 6573 3a0a  ful.properties:.
+00000e70: 0a60 6060 2070 7974 686f 6e0a 3e3e 3e20  .``` python.>>> 
+00000e80: 7320 3d20 616e 7369 7374 7269 6e67 2827  s = ansistring('
+00000e90: 3c62 3e61 6263 3c2f 623e 2729 0a3e 3e3e  <b>abc</b>').>>>
+00000ea0: 2070 7269 6e74 2872 6570 7228 7329 2c20   print(repr(s), 
+00000eb0: 272d 3e27 2c20 7329 0a3c 623e 6162 633c  '->', s).<b>abc<
+00000ec0: 2f62 3e20 2d3e 2061 6263 2020 2320 6162  /b> -> abc  # ab
+00000ed0: 6320 6973 2070 7269 6e74 6564 2069 6e20  c is printed in 
+00000ee0: 626f 6c64 0a3e 3e3e 206c 656e 2873 292c  bold.>>> len(s),
+00000ef0: 206c 656e 2861 6d2e 7061 7273 6528 273c   len(am.parse('<
+00000f00: 623e 6162 633c 2f62 3e27 292c 2073 2e64  b>abc</b>'), s.d
+00000f10: 656c 7461 0a33 2c20 3131 2c20 380a 6060  elta.3, 11, 8.``
+00000f20: 600a 0a57 6974 6820 7468 6520 6865 6c70  `..With the help
+00000f30: 206f 6620 7468 6520 6064 656c 7461 6020   of the `delta` 
+00000f40: 7072 6f70 6572 7479 2c20 6974 2069 7320  property, it is 
+00000f50: 6561 7379 2074 6f20 616c 6967 6e20 7468  easy to align th
+00000f60: 6520 7374 7269 6e67 730a 696e 2074 6865  e strings.in the
+00000f70: 2061 626f 7665 2065 7861 6d70 6c65 3a0a   above example:.
+00000f80: 0a60 6060 2070 7974 686f 6e0a 3e3e 3e20  .``` python.>>> 
+00000f90: 7320 3d20 616e 7369 7374 7269 6e67 2827  s = ansistring('
+00000fa0: 3c62 3e61 6263 3c2f 623e 2729 0a3e 3e3e  <b>abc</b>').>>>
+00000fb0: 2061 203d 2027 7c20 7b3a 7b77 6964 7468   a = '| {:{width
+00000fc0: 7d7d 207c 272e 666f 726d 6174 2827 6162  }} |'.format('ab
+00000fd0: 6327 2c20 7769 6474 683d 3330 290a 3e3e  c', width=30).>>
+00000fe0: 3e20 6220 3d20 277c 207b 3a7b 7769 6474  > b = '| {:{widt
+00000ff0: 687d 7d20 7c27 2e66 6f72 6d61 7428 732c  h}} |'.format(s,
+00001000: 2077 6964 7468 3d28 3330 202b 2073 2e64   width=(30 + s.d
+00001010: 656c 7461 2929 0a3e 3e3e 2070 7269 6e74  elta)).>>> print
+00001020: 2861 2c20 622c 2073 6570 3d27 5c6e 2729  (a, b, sep='\n')
+00001030: 0a7c 2061 6263 2020 2020 2020 2020 2020  .| abc          
+00001040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001050: 2020 7c0a 7c20 6162 6320 2020 2020 2020    |.| abc       
+00001060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001070: 2020 2020 207c 0a60 6060 0a0a 2323 2320       |.```..### 
+00001080: 4573 6361 7069 6e67 2072 6177 2073 7472  Escaping raw str
+00001090: 696e 6773 0a0a 426f 7468 2060 616e 7369  ings..Both `ansi
+000010a0: 7072 696e 7428 2960 2061 6e64 2060 7061  print()` and `pa
+000010b0: 7273 6528 2960 2070 6173 7320 6172 6775  rse()` pass argu
+000010c0: 6d65 6e74 7320 6f66 2074 7970 6520 6072  ments of type `r
+000010d0: 6177 6020 756e 746f 7563 6865 642e 0a0a  aw` untouched...
+000010e0: 6060 6020 7079 7468 6f6e 0a3e 3e3e 2066  ``` python.>>> f
+000010f0: 726f 6d20 616e 7369 6d61 726b 7570 2069  rom ansimarkup i
+00001100: 6d70 6f72 7420 616e 7369 7072 696e 742c  mport ansiprint,
+00001110: 2070 6172 7365 2c20 7261 770a 3e3e 3e20   parse, raw.>>> 
+00001120: 616e 7369 7072 696e 7428 223c 623e 3c72  ansiprint("<b><r
+00001130: 3e22 2c20 7261 7728 223c 6c20 7479 7065  >", raw("<l type
+00001140: 3d27 5627 3e32 2e30 3c2f 6c3e 2229 2c20  ='V'>2.0</l>"), 
+00001150: 223c 2f72 3e3c 2f62 3e22 290a 203c 6c20  "</r></b>"). <l 
+00001160: 7479 7065 3d27 5627 3e32 2e30 3c2f 6c3e  type='V'>2.0</l>
+00001170: 2020 2320 7072 696e 7465 6420 696e 2062    # printed in b
+00001180: 6f6c 6420 7265 6420 286e 6f74 6520 7468  old red (note th
+00001190: 6520 6c65 6164 696e 6720 7370 6163 6520  e leading space 
+000011a0: 6361 7573 6564 290a 0a3e 3e3e 2073 203d  caused)..>>> s =
+000011b0: 2070 6172 7365 2822 3c62 3e3c 723e 222c   parse("<b><r>",
+000011c0: 2072 6177 2822 3c6c 2074 7970 653d 2756   raw("<l type='V
+000011d0: 273e 322e 303c 2f6c 3e22 292c 2022 3c2f  '>2.0</l>"), "</
+000011e0: 723e 3c2f 623e 2229 0a3e 3e3e 2070 7269  r></b>").>>> pri
+000011f0: 6e74 2873 290a 3c6c 2074 7970 653d 2756  nt(s).<l type='V
+00001200: 273e 322e 303c 2f6c 3e20 2023 2070 7269  '>2.0</l>  # pri
+00001210: 6e74 6564 2069 6e20 626f 6c64 2072 6564  nted in bold red
+00001220: 0a60 6060 0a0a 4275 696c 6469 6e67 2061  .```..Building a
+00001230: 2074 656d 706c 6174 6520 7374 7269 6e67   template string
+00001240: 206d 6179 2061 6c73 6f20 6265 2073 7566   may also be suf
+00001250: 6669 6369 656e 743a 0a0a 6060 6020 7079  ficient:..``` py
+00001260: 7468 6f6e 0a3e 3e3e 2066 726f 6d20 616e  thon.>>> from an
+00001270: 7369 6d61 726b 7570 2069 6d70 6f72 7420  simarkup import 
+00001280: 7061 7273 650a 3e3e 3e20 7320 3d20 7061  parse.>>> s = pa
+00001290: 7273 6528 223c 623e 3c72 3e25 733c 2f72  rse("<b><r>%s</r
+000012a0: 3e3c 2f62 3e22 290a 3e3e 3e20 7072 696e  ></b>").>>> prin
+000012b0: 7428 7320 2520 223c 6c20 7479 7065 3d27  t(s % "<l type='
+000012c0: 5627 3e32 2e30 3c2f 6c3e 2229 0a3c 6c20  V'>2.0</l>").<l 
+000012d0: 7479 7065 3d27 5627 3e32 2e30 3c2f 6c3e  type='V'>2.0</l>
+000012e0: 2020 2320 7072 696e 7465 6420 696e 2062    # printed in b
+000012f0: 6f6c 6420 7265 640a 6060 600a 0a0a 2323  old red.```...##
+00001300: 2320 4f74 6865 7220 6665 6174 7572 6573  # Other features
+00001310: 0a0a 5468 6520 6465 6661 756c 7420 7461  ..The default ta
+00001320: 6720 7365 7061 7261 746f 7273 2063 616e  g separators can
+00001330: 2062 6520 6368 616e 6765 6420 6279 2070   be changed by p
+00001340: 6173 7369 6e67 2074 6865 2060 7461 675f  assing the `tag_
+00001350: 7365 7060 0a61 7267 756d 656e 7420 746f  sep`.argument to
+00001360: 2060 416e 7369 4d61 726b 7570 603a 0a0a   `AnsiMarkup`:..
+00001370: 6060 6020 7079 7468 6f6e 0a66 726f 6d20  ``` python.from 
+00001380: 616e 7369 6d61 726b 7570 2069 6d70 6f72  ansimarkup impor
+00001390: 7420 416e 7369 4d61 726b 7570 0a0a 616d  t AnsiMarkup..am
+000013a0: 203d 2041 6e73 694d 6172 6b75 7028 7461   = AnsiMarkup(ta
+000013b0: 675f 7365 703d 227b 7d22 290a 616d 2e70  g_sep="{}").am.p
+000013c0: 6172 7365 2822 7b62 7d7b 727d 626f 6c64  arse("{b}{r}bold
+000013d0: 2072 6564 7b2f 627d 7b2f 727d 2229 0a60   red{/b}{/r}").`
+000013e0: 6060 0a0a 4d61 726b 7570 2074 6167 7320  ``..Markup tags 
+000013f0: 6361 6e20 6265 2072 656d 6f76 6564 2075  can be removed u
+00001400: 7369 6e67 2074 6865 2060 7374 7269 7028  sing the `strip(
+00001410: 2960 206d 6574 686f 643a 0a0a 6060 6020  )` method:..``` 
+00001420: 7079 7468 6f6e 0a66 726f 6d20 616e 7369  python.from ansi
+00001430: 6d61 726b 7570 2069 6d70 6f72 7420 416e  markup import An
+00001440: 7369 4d61 726b 7570 0a0a 616d 203d 2041  siMarkup..am = A
+00001450: 6e73 694d 6172 6b75 7028 290a 616d 2e73  nsiMarkup().am.s
+00001460: 7472 6970 2822 3c62 3e3c 723e 626f 6c64  trip("<b><r>bold
+00001470: 2072 6564 3c2f 623e 3c2f 723e 2229 0a60   red</b></r>").`
+00001480: 6060 0a0a 5468 6520 6073 7472 6963 7460  ``..The `strict`
+00001490: 206f 7074 696f 6e20 696e 7374 7275 6374   option instruct
+000014a0: 7320 7468 6520 7061 7273 6572 2074 6f20  s the parser to 
+000014b0: 7261 6973 6520 604d 6973 6d61 7463 6865  raise `Mismatche
+000014c0: 6454 6167 6020 6966 0a6f 7065 6e69 6e67  dTag` if.opening
+000014d0: 2074 6167 7320 646f 6e5c 2774 2068 6176   tags don\'t hav
+000014e0: 6520 636f 7272 6573 706f 6e64 696e 6720  e corresponding 
+000014f0: 636c 6f73 696e 6720 7461 6773 3a0a 0a60  closing tags:..`
+00001500: 6060 2070 7974 686f 6e0a 6672 6f6d 2061  `` python.from a
+00001510: 6e73 696d 6172 6b75 7020 696d 706f 7274  nsimarkup import
+00001520: 2041 6e73 694d 6172 6b75 700a 0a61 6d20   AnsiMarkup..am 
+00001530: 3d20 416e 7369 4d61 726b 7570 2873 7472  = AnsiMarkup(str
+00001540: 6963 743d 5472 7565 290a 616d 2e70 6172  ict=True).am.par
+00001550: 7365 2822 3c72 3e3c 623e 626f 6c64 2072  se("<r><b>bold r
+00001560: 6564 2229 0a23 2061 6e73 696d 6172 6b75  ed").# ansimarku
+00001570: 702e 4d69 736d 6174 6368 6564 5461 673a  p.MismatchedTag:
+00001580: 206f 7065 6e69 6e67 2074 6167 2022 3c72   opening tag "<r
+00001590: 3e22 2068 6173 206e 6f20 636f 7272 6573  >" has no corres
+000015a0: 706f 6e64 696e 6720 636c 6f73 696e 6720  ponding closing 
+000015b0: 7461 670a 6060 600a 0a23 2323 2043 6f6d  tag.```..### Com
+000015c0: 6d61 6e64 2d6c 696e 650a 0a41 6e73 696d  mand-line..Ansim
+000015d0: 6172 6b75 7020 6d61 7920 616c 736f 2062  arkup may also b
+000015e0: 6520 7573 6564 206f 6e20 7468 6520 636f  e used on the co
+000015f0: 6d6d 616e 642d 6c69 6e65 2e20 5468 6973  mmand-line. This
+00001600: 2077 6f72 6b73 2061 7320 6966 2061 6c6c   works as if all
+00001610: 0a61 7267 756d 656e 7473 2077 6572 6520  .arguments were 
+00001620: 7061 7373 6564 2074 6f20 6061 6e73 6970  passed to `ansip
+00001630: 7269 6e74 2829 603a 0a0a 2020 2020 2420  rint()`:..    $ 
+00001640: 7079 7468 6f6e 202d 6d20 616e 7369 6d61  python -m ansima
+00001650: 726b 7570 0a20 2020 2055 7361 6765 3a20  rkup.    Usage: 
+00001660: 7079 7468 6f6e 202d 6d20 616e 7369 6d61  python -m ansima
+00001670: 726b 7570 205b 3c61 7267 3e20 5b3c 6172  rkup [<arg> [<ar
+00001680: 673e 202e 2e2e 5d5d 0a0a 2020 2020 4578  g> ...]]..    Ex
+00001690: 616d 706c 6520 7573 6167 653a 0a20 2020  ample usage:.   
+000016a0: 2020 2070 7974 686f 6e20 2d6d 2061 6e73     python -m ans
+000016b0: 696d 6172 6b75 7020 273c 623e 426f 6c64  imarkup '<b>Bold
+000016c0: 3c2f 623e 2720 273c 723e 5265 643c 2f72  </b>' '<r>Red</r
+000016d0: 3e27 0a20 2020 2020 2070 7974 686f 6e20  >'.      python 
+000016e0: 2d6d 2061 6e73 696d 6172 6b75 7020 273c  -m ansimarkup '<
+000016f0: 623e 3c72 3e42 6f6c 6420 5265 643c 2f72  b><r>Bold Red</r
+00001700: 3e3c 2f62 3e27 0a20 2020 2020 2070 7974  ></b>'.      pyt
+00001710: 686f 6e20 2d6d 2061 6e73 696d 6172 6b75  hon -m ansimarku
+00001720: 7020 3c20 696e 7075 742d 7769 7468 2d6d  p < input-with-m
+00001730: 6172 6b75 702e 7478 740a 2020 2020 2020  arkup.txt.      
+00001740: 6563 686f 2027 3c62 3e42 6f6c 643c 2f62  echo '<b>Bold</b
+00001750: 3e27 207c 2070 7974 686f 6e20 2d6d 2061  >' | python -m a
+00001760: 6e73 696d 6172 6b75 700a 0a23 2323 204c  nsimarkup..### L
+00001770: 6f67 6769 6e67 2066 6f72 6d61 7474 6572  ogging formatter
+00001780: 0a0a 416e 7369 6d61 726b 7570 2061 6c73  ..Ansimarkup als
+00001790: 6f20 636f 6d65 7320 7769 7468 2061 2066  o comes with a f
+000017a0: 6f72 6d61 7474 6572 2066 6f72 2074 6865  ormatter for the
+000017b0: 2073 7461 6e64 6172 6420 6c69 6272 6172   standard librar
+000017c0: 7920 606c 6f67 6769 6e67 6020 6d6f 6475  y `logging` modu
+000017d0: 6c65 2e20 4974 2063 616e 2062 6520 7573  le. It can be us
+000017e0: 6564 2061 733a 0a0a 6060 6020 7079 7468  ed as:..``` pyth
+000017f0: 6f6e 0a69 6d70 6f72 7420 6c6f 6767 696e  on.import loggin
+00001800: 670a 6672 6f6d 2061 6e73 696d 6172 6b75  g.from ansimarku
+00001810: 702e 6c6f 6766 6f72 6d61 7474 6572 2069  p.logformatter i
+00001820: 6d70 6f72 7420 416e 7369 4d61 726b 7570  mport AnsiMarkup
+00001830: 466f 726d 6174 7465 720a 0a6c 6f67 203d  Formatter..log =
+00001840: 206c 6f67 6769 6e67 2e67 6574 4c6f 6767   logging.getLogg
+00001850: 6572 2829 0a68 646c 203d 206c 6f67 6769  er().hdl = loggi
+00001860: 6e67 2e53 7472 6561 6d48 616e 646c 6572  ng.StreamHandler
+00001870: 2829 0a66 6d74 203d 2041 6e73 694d 6172  ().fmt = AnsiMar
+00001880: 6b75 7046 6f72 6d61 7474 6572 2829 0a68  kupFormatter().h
+00001890: 646c 2e73 6574 466f 726d 6174 7465 7228  dl.setFormatter(
+000018a0: 666d 7429 0a6c 6f67 2e61 6464 4861 6e64  fmt).log.addHand
+000018b0: 6c65 7228 6864 6c29 0a0a 6c6f 672e 696e  ler(hdl)..log.in
+000018c0: 666f 2822 3c62 3e62 6f6c 6420 7465 7874  fo("<b>bold text
+000018d0: 3c2f 623e 2229 0a60 6060 0a0a 2323 2320  </b>").```..### 
+000018e0: 5769 6e64 6f77 730a 0a41 6e73 696d 6172  Windows..Ansimar
+000018f0: 6b75 7020 7573 6573 2074 6865 205b 636f  kup uses the [co
+00001900: 6c6f 7261 6d61 5d20 6c69 6272 6172 7920  lorama] library 
+00001910: 696e 7465 726e 616c 6c79 2c20 7768 6963  internally, whic
+00001920: 6820 6d65 616e 7320 7468 6174 0a57 696e  h means that.Win
+00001930: 646f 7773 2073 7570 706f 7274 2066 6f72  dows support for
+00001940: 2061 6e73 6920 6573 6361 7065 2073 6571   ansi escape seq
+00001950: 7565 6e63 6573 2069 7320 6176 6169 6c61  uences is availa
+00001960: 626c 6520 6279 2066 6972 7374 2072 756e  ble by first run
+00001970: 6e69 6e67 3a0a 0a60 6060 2070 7974 686f  ning:..``` pytho
+00001980: 6e0a 696d 706f 7274 2063 6f6c 6f72 616d  n.import coloram
+00001990: 610a 636f 6c6f 7261 6d61 2e69 6e69 7428  a.colorama.init(
+000019a0: 290a 6060 600a 0a46 6f72 206d 6f72 6520  ).```..For more 
+000019b0: 696e 666f 726d 6174 696f 6e20 6f6e 2057  information on W
+000019c0: 696e 646f 7773 2073 7570 706f 7274 2c20  indows support, 
+000019d0: 636f 6e73 756c 7420 7468 6520 5c22 5573  consult the \"Us
+000019e0: 6167 655c 2220 7365 6374 696f 6e0a 6f66  age\" section.of
+000019f0: 2074 6865 205b 636f 6c6f 7261 6d61 5d20   the [colorama] 
+00001a00: 646f 6375 6d65 6e74 6174 696f 6e2e 0a0a  documentation...
+00001a10: 2323 2050 6572 666f 726d 616e 6365 0a0a  ## Performance..
+00001a20: 5768 696c 6520 7468 6520 666f 6375 7320  While the focus 
+00001a30: 6f66 2061 6e73 696d 6172 6b75 7020 6973  of ansimarkup is
+00001a40: 2063 6f6e 7665 6e69 656e 6365 2c20 6974   convenience, it
+00001a50: 2064 6f65 7320 7472 7920 746f 206b 6565   does try to kee
+00001a60: 700a 7072 6f63 6573 7369 6e67 2074 6f20  p.processing to 
+00001a70: 6120 6d69 6e69 6d75 6d2e 2054 6865 205b  a minimum. The [
+00001a80: 6265 6e63 686d 6172 6b2e 7079 5d20 7363  benchmark.py] sc
+00001a90: 7269 7074 2061 7474 656d 7074 7320 746f  ript attempts to
+00001aa0: 2062 656e 6368 6d61 726b 0a64 6966 6665   benchmark.diffe
+00001ab0: 7265 6e74 2061 6e73 6920 6573 6361 7065  rent ansi escape
+00001ac0: 2063 6f64 6520 6c69 6272 6172 6965 733a   code libraries:
+00001ad0: 0a0a 2020 2020 4265 6e63 686d 6172 6b20  ..    Benchmark 
+00001ae0: 313a 203c 723e 3c62 3e72 6564 2062 6f6c  1: <r><b>red bol
+00001af0: 643c 2f62 3e3c 2f72 3e0a 2020 2020 2020  d</b></r>.      
+00001b00: 636f 6c6f 7261 6d61 2020 2020 2030 2e32  colorama     0.2
+00001b10: 3138 3720 cebc 730a 2020 2020 2020 636f  187 ..s.      co
+00001b20: 6c72 2020 2020 2020 2020 2032 2e32 3234  lr         2.224
+00001b30: 3620 cebc 730a 2020 2020 2020 616e 7369  6 ..s.      ansi
+00001b40: 6d61 726b 7570 2020 2034 2e33 3131 3520  markup   4.3115 
+00001b50: cebc 730a 2020 2020 2020 7465 726d 636f  ..s.      termco
+00001b60: 6c6f 7220 2020 2035 2e35 3138 3420 cebc  lor    5.5184 ..
+00001b70: 730a 2020 2020 2020 7061 7374 656c 2020  s.      pastel  
+00001b80: 2020 2020 2031 352e 3831 3533 20ce bc73       15.8153 ..s
+00001b90: 0a20 2020 2020 2070 6c75 6d62 756d 2020  .      plumbum  
+00001ba0: 2020 2020 3230 2e37 3333 3020 cebc 730a      20.7330 ..s.
+00001bb0: 0a20 2020 2042 656e 6368 6d61 726b 2032  .    Benchmark 2
+00001bc0: 3a20 3c72 3e3c 623e 7265 6420 626f 6c64  : <r><b>red bold
+00001bd0: 3c2f 623e 7265 643c 2f72 3e3c 623e 626f  </b>red</r><b>bo
+00001be0: 6c64 3c2f 623e 0a20 2020 2020 2063 6f6c  ld</b>.      col
+00001bf0: 6f72 616d 6120 2020 2020 302e 3630 3635  orama     0.6065
+00001c00: 20ce bc73 0a20 2020 2020 2063 6f6c 7220   ..s.      colr 
+00001c10: 2020 2020 2020 2020 352e 3735 3339 20ce          5.7539 .
+00001c20: bc73 0a20 2020 2020 2061 6e73 696d 6172  .s.      ansimar
+00001c30: 6b75 7020 2020 362e 3135 3439 20ce bc73  kup   6.1549 ..s
+00001c40: 0a20 2020 2020 2074 6572 6d63 6f6c 6f72  .      termcolor
+00001c50: 2020 2020 3135 2e38 3631 3520 cebc 730a      15.8615 ..s.
+00001c60: 2020 2020 2020 7061 7374 656c 2020 2020        pastel    
+00001c70: 2020 2033 332e 3235 3234 20ce bc73 0a20     33.2524 ..s. 
+00001c80: 2020 2020 2070 6c75 6d62 756d 2020 2020       plumbum    
+00001c90: 2020 3437 2e30 3632 3420 cebc 730a 0a0a    47.0624 ..s...
+00001ca0: 2323 204c 696d 6974 6174 696f 6e73 0a0a  ## Limitations..
+00001cb0: 416e 7369 6d61 726b 7570 2069 7320 6120  Ansimarkup is a 
+00001cc0: 7369 6d70 6c65 2077 7261 7070 6572 2061  simple wrapper a
+00001cd0: 726f 756e 6420 5b63 6f6c 6f72 616d 615d  round [colorama]
+00001ce0: 2e20 4974 2064 6f65 7320 7665 7279 206c  . It does very l
+00001cf0: 6974 746c 6520 696e 0a74 6865 2077 6179  ittle in.the way
+00001d00: 206f 6620 7661 6c69 6461 7469 6e67 2074   of validating t
+00001d10: 6861 7420 6d61 726b 7570 2073 7472 696e  hat markup strin
+00001d20: 6773 2061 7265 2077 656c 6c2d 666f 726d  gs are well-form
+00001d30: 6564 2e20 5468 6973 2069 7320 610a 636f  ed. This is a.co
+00001d40: 6e73 6369 6f75 7320 6465 6369 7369 6f6e  nscious decision
+00001d50: 2077 6974 6820 7468 6520 676f 616c 206f   with the goal o
+00001d60: 6620 6b65 6570 696e 6720 7468 696e 6773  f keeping things
+00001d70: 2073 696d 706c 6520 616e 6420 6661 7374   simple and fast
+00001d80: 2e0a 0a55 6e62 616c 616e 6365 6420 6e65  ...Unbalanced ne
+00001d90: 7374 696e 672c 2073 7563 6820 6173 2069  sting, such as i
+00001da0: 6e20 7468 6520 666f 6c6c 6f77 696e 6720  n the following 
+00001db0: 6578 616d 706c 652c 2077 696c 6c20 7072  example, will pr
+00001dc0: 6f64 7563 650a 696e 636f 7272 6563 7420  oduce.incorrect 
+00001dd0: 6f75 7470 7574 3a0a 0a20 2020 203c 723e  output:..    <r>
+00001de0: 3c59 3e31 3c2f 723e 323c 2f59 3e0a 0a23  <Y>1</r>2</Y>..#
+00001df0: 2320 546f 646f 0a0a 2d20 2020 4d61 6e79  # Todo..-   Many
+00001e00: 2063 6f72 6e65 7220 6361 7365 7320 7265   corner cases re
+00001e10: 6d61 696e 2074 6f20 6265 2066 6978 6564  main to be fixed
+00001e20: 2e0a 2d20 2020 4d6f 7265 2065 6c61 626f  ..-   More elabo
+00001e30: 7261 7465 2074 6573 7469 6e67 2e20 5468  rate testing. Th
+00001e40: 6520 6375 7272 656e 7420 7465 7374 2073  e current test s
+00001e50: 7569 7465 206d 6f73 746c 7920 636f 7665  uite mostly cove
+00001e60: 7273 2074 6865 205c 2268 6170 7079 2070  rs the \"happy p
+00001e70: 6174 6873 5c22 2e0a 2d20 2020 5265 706c  aths\"..-   Repl
+00001e80: 6163 6520 6074 6167 5f6c 6973 742e 696e  ace `tag_list.in
+00001e90: 6465 7860 2069 6e20 6073 7562 5f65 6e64  dex` in `sub_end
+00001ea0: 6020 7769 7468 2073 6f6d 6574 6869 6e67  ` with something
+00001eb0: 206d 6f72 6520 6566 6669 6369 656e 7420   more efficient 
+00001ec0: 2869 2e65 2e20 736f 6d65 7468 696e 6720  (i.e. something 
+00001ed0: 6c69 6b65 2061 6e20 6f72 6465 7265 6420  like an ordered 
+00001ee0: 4d75 6c74 6944 6963 7429 2e0a 0a23 2320  MultiDict)...## 
+00001ef0: 5369 6d69 6c61 7220 6c69 6272 6172 6965  Similar librarie
+00001f00: 730a 0a2d 2020 205b 7061 7374 656c 5d5b  s..-   [pastel][
+00001f10: 5d3a 2062 7269 6e67 2063 6f6c 6f72 7320  ]: bring colors 
+00001f20: 746f 2079 6f75 7220 7465 726d 696e 616c  to your terminal
+00001f30: 0a2d 2020 205b 706c 756d 6275 6d2e 636f  .-   [plumbum.co
+00001f40: 6c6f 7273 5d5b 5d3a 2073 6d61 6c6c 2079  lors][]: small y
+00001f50: 6574 2066 6561 7475 7265 2d72 6963 6820  et feature-rich 
+00001f60: 6c69 6272 6172 7920 666f 7220 7368 656c  library for shel
+00001f70: 6c20 7363 7269 7074 2d6c 696b 6520 7072  l script-like pr
+00001f80: 6f67 7261 6d73 2069 6e20 5079 7468 6f6e  ograms in Python
+00001f90: 0a2d 2020 205b 636f 6c72 5d5b 5d3a 2065  .-   [colr][]: e
+00001fa0: 6173 7920 7465 726d 696e 616c 2063 6f6c  asy terminal col
+00001fb0: 6f72 732c 2077 6974 6820 6368 6169 6e61  ors, with chaina
+00001fc0: 626c 6520 6d65 7468 6f64 730a 0a23 2320  ble methods..## 
+00001fd0: 4c69 6365 6e73 650a 0a41 6e73 696d 6172  License..Ansimar
+00001fe0: 6b75 7020 6973 2072 656c 6561 7365 6420  kup is released 
+00001ff0: 756e 6465 7220 7468 6520 7465 726d 7320  under the terms 
+00002000: 6f66 2074 6865 205b 5265 7669 7365 6420  of the [Revised 
+00002010: 4253 4420 4c69 6365 6e73 655d 2e0a 0a20  BSD License]... 
+00002020: 205b 7461 6773 2e70 795d 3a20 6874 7470   [tags.py]: http
+00002030: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f67  s://github.com/g
+00002040: 7661 6c6b 6f76 2f70 7974 686f 6e2d 616e  valkov/python-an
+00002050: 7369 6d61 726b 7570 2f62 6c6f 622f 6d61  simarkup/blob/ma
+00002060: 696e 2f61 6e73 696d 6172 6b75 702f 7461  in/ansimarkup/ta
+00002070: 6773 2e70 790a 2020 5b63 6f6c 6f72 616d  gs.py.  [coloram
+00002080: 615d 3a20 6874 7470 733a 2f2f 7079 7069  a]: https://pypi
+00002090: 2e70 7974 686f 6e2e 6f72 672f 7079 7069  .python.org/pypi
+000020a0: 2f63 6f6c 6f72 616d 610a 2020 5b62 656e  /colorama.  [ben
+000020b0: 6368 6d61 726b 2e70 795d 3a20 6874 7470  chmark.py]: http
+000020c0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f67  s://github.com/g
+000020d0: 7661 6c6b 6f76 2f70 7974 686f 6e2d 616e  valkov/python-an
+000020e0: 7369 6d61 726b 7570 2f62 6c6f 622f 6d61  simarkup/blob/ma
+000020f0: 696e 2f74 6573 7473 2f62 656e 6368 6d61  in/tests/benchma
+00002100: 726b 2e70 790a 2020 5b70 6173 7465 6c5d  rk.py.  [pastel]
+00002110: 3a20 6874 7470 733a 2f2f 6769 7468 7562  : https://github
+00002120: 2e63 6f6d 2f73 6469 7370 6174 6572 2f70  .com/sdispater/p
+00002130: 6173 7465 6c0a 2020 5b70 6c75 6d62 756d  astel.  [plumbum
+00002140: 2e63 6f6c 6f72 735d 3a20 6874 7470 733a  .colors]: https:
+00002150: 2f2f 706c 756d 6275 6d2e 7265 6164 7468  //plumbum.readth
+00002160: 6564 6f63 732e 696f 2f65 6e2f 6c61 7465  edocs.io/en/late
+00002170: 7374 2f63 6c69 2e68 746d 6c23 636f 6c6f  st/cli.html#colo
+00002180: 7273 0a20 205b 636f 6c72 5d3a 2068 7474  rs.  [colr]: htt
+00002190: 7073 3a2f 2f70 7970 692e 7079 7468 6f6e  ps://pypi.python
+000021a0: 2e6f 7267 2f70 7970 692f 436f 6c72 2f0a  .org/pypi/Colr/.
+000021b0: 2020 5b52 6576 6973 6564 2042 5344 204c    [Revised BSD L
+000021c0: 6963 656e 7365 5d3a 2068 7474 7073 3a2f  icense]: https:/
+000021d0: 2f67 6974 6875 622e 636f 6d2f 6776 616c  /github.com/gval
+000021e0: 6b6f 762f 7079 7468 6f6e 2d61 6e73 696d  kov/python-ansim
+000021f0: 6172 6b75 702f 626c 6f62 2f6d 6169 6e2f  arkup/blob/main/
+00002200: 4c49 4345 4e53 452e 7478 740a            LICENSE.txt.
```

### Comparing `ansimarkup-1.5.0/ansimarkup/markup.py` & `ansimarkup-2.0.0/ansimarkup/markup.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,144 +1,174 @@
-from __future__ import print_function
-
 import re
+import builtins
+from typing import Callable, List, Match, Optional, Mapping, Pattern, Sequence, Type, Union, Tuple
 
 from colorama import Style
 
 from .tags import style, background, foreground, all_tags
-from .compat import builtins
 
 
 class AnsiMarkupError(Exception):
     pass
 
+
 class MismatchedTag(AnsiMarkupError):
     pass
 
+
 class UnbalancedTag(AnsiMarkupError):
     pass
 
 
+UserTagsType = Mapping[str, Union[str, Callable[[], str]]]
+
+
 class AnsiMarkup:
-    '''
+    """
     Produce colored terminal text with a tag-based markup.
-    '''
+    """
 
-    def __init__(self, tags=None, always_reset=False, strict=False, tag_sep='<>', ansistring_cls=None):
-        '''
-        Arguments
-        ---------
+    def __init__(
+        self,
+        tags: Optional[UserTagsType] = None,
+        always_reset: Optional[bool] = False,
+        strict: Optional[bool] = False,
+        tag_sep: Sequence[str] = "<>",
+        ansistring_cls: Optional[Type[str]] = None,
+        rawstring_cls: Optional[Type[str]] = None,
+    ):
+        """
+        Parameters
+        ----------
         tags: dict
            User-supplied tags, which are a mapping of tag names to the strings
            they will be substituted with.
         always_reset: bool
            Whether or not ``parse()`` should always end strings with a reset code.
         strict: bool
            Whether or not ``parse()`` should raise an error for missing closing tags.
         tag_sep: str
            The opening and closing characters of each tag (e.g. ``<>``, ``{}``).
         ansistring_cls: type
-           Class to use in ``ansistring()`` method.
-        '''
+           String subtype to use in the ``ansistring()`` method.
+        rawstring_cls: type
+           Strign subtype to use to designate raw strings.
+        """
+
         self.user_tags = tags if tags else {}
         self.always_reset = always_reset
         self.strict = strict
         self.tag_sep = tag_sep
         self.ansistring_cls = ansistring_cls if ansistring_cls else AnsiMarkupString
+        self.rawstring_cls = self.raw = rawstring_cls if rawstring_cls else AnsiMarkupRawString
 
         self.re_tag = self.compile_tag_regex(tag_sep)
 
-    def parse(self, text):
-        '''Return a string with markup tags converted to ansi-escape sequences.'''
-        tags, results = [], []
-
-        text = self.re_tag.sub(lambda m: self.sub_tag(m, tags, results), text)
+    def parse(self, *strings: str, aslist: bool = False) -> str:
+        """Return a string with markup tags converted to ansi-escape sequences."""
+        tags, results, res = [], [], []
+
+        def re_sub(m):
+            return self.sub_tag(m, tags, results)
+
+        for _str in strings:
+            if isinstance(_str, self.rawstring_cls):
+                res.append(_str)
+            else:
+                res.append(self.re_tag.sub(re_sub, _str))
 
         if self.strict and tags:
             markup = "%s%s%s" % (self.tag_sep[0], tags.pop(0), self.tag_sep[1])
             raise MismatchedTag('opening tag "%s" has no corresponding closing tag' % markup)
 
         if self.always_reset:
-            if not text.endswith(Style.RESET_ALL):
-                text += Style.RESET_ALL
+            if not res[-1] == Style.RESET_ALL:
+                res.append(Style.RESET_ALL)
 
-        return text
+        if aslist:
+            return res
+        return "".join(res)
+
+    def ansiprint(self, *args: str, **kwargs):
+        """Wrapper around builtins.print() that runs parse() on all arguments first."""
+
+        new_args = (str(i) if not isinstance(i, str) else i for i in args)
+        parts = self.parse(*new_args, aslist=True)
+        builtins.print(*parts, **kwargs)
 
-    def ansiprint(self, *args, **kwargs):
-        '''Wrapper around builtins.print() that runs parse() on all arguments first.'''
-        args = (self.parse(str(i)) for i in args)
-        builtins.print(*args, **kwargs)
-
-    def strip(self, text):
-        '''Return string with markup tags removed.'''
+    def strip(self, text: str):
+        """Return string with markup tags removed."""
         tags, results = [], []
         return self.re_tag.sub(lambda m: self.clear_tag(m, tags, results), text)
 
-    def ansistring(self, markup):
+    def ansistring(self, markup: str):
         return self.ansistring_cls(self, markup)
 
-    def __call__(self, text):
+    def __call__(self, text: str):
         return self.parse(text)
 
-    def sub_tag(self, match, tag_list, res_list):
+    def sub_tag(self, match: Match, tag_list: List[str], res_list: List[str]) -> str:
         markup, tag = match.group(0), match.group(1)
-        closing = markup[1] == '/'
+        closing = markup[1] == "/"
         res = None
 
+        # Debug:
+        # print(f"{markup=} {tag=} {tag_list=} {res_list=}")
+
         # Early exit if the closing tag matches the last known opening tag.
         if closing and tag_list and tag_list[-1] == tag:
             tag_list.pop()
             res_list.pop()
-            return Style.RESET_ALL + ''.join(res_list)
+            return Style.RESET_ALL + "".join(res_list)
 
         # User-defined tags take preference over all other.
         if tag in self.user_tags:
-            utag = self.user_tags[tag]
-            res = utag() if callable(utag) else utag
+            user_tag = self.user_tags[tag]
+            res = user_tag() if callable(user_tag) else user_tag
 
         # Substitute on a direct match.
         elif tag in all_tags:
             res = all_tags[tag]
 
         # An alternative syntax for setting the color (e.g. <fg red>, <bg red>).
-        elif tag.startswith('fg ') or tag.startswith('bg '):
+        elif tag.startswith("fg ") or tag.startswith("bg "):
             st, color = tag[:2], tag[3:]
-            code = '38' if st == 'fg' else '48'
+            code = "38" if st == "fg" else "48"
 
-            if st == 'fg' and color in foreground:
+            if st == "fg" and color in foreground:
                 res = foreground[color]
-            elif st == 'bg' and color.islower() and color.upper() in background:
+            elif st == "bg" and color.islower() and color.upper() in background:
                 res = background[color.upper()]
             elif color.isdigit() and int(color) <= 255:
-                res = '\033[%s;5;%sm' % (code, color)
-            elif re.match(r'#(?:[a-fA-F0-9]{3}){1,2}$', color):
+                res = "\033[%s;5;%sm" % (code, color)
+            elif re.match(r"#(?:[a-fA-F0-9]{3}){1,2}$", color):
                 hex_color = color[1:]
                 if len(hex_color) == 3:
                     hex_color *= 2
-                res = '\033[%s;2;%s;%s;%sm' % ((code,) + hex_to_rgb(hex_color))
-            elif color.count(',') == 2:
-                colors = tuple(color.split(','))
+                res = "\033[%s;2;%s;%s;%sm" % ((code,) + hex_to_rgb(hex_color))
+            elif color.count(",") == 2:
+                colors = tuple(color.split(","))
                 if all(x.isdigit() and int(x) <= 255 for x in colors):
-                    res = '\033[%s;2;%s;%s;%sm' % ((code,) + colors)
+                    res = "\033[%s;2;%s;%s;%sm" % ((code,) + colors)
 
         # Shorthand formats (e.g. <red,blue>, <bold,red,blue>).
-        elif ',' in tag:
-            el_count = tag.count(',')
+        elif "," in tag:
+            el_count = tag.count(",")
 
             if el_count == 1:
-                fg, bg = tag.split(',')
+                fg, bg = tag.split(",")
                 if fg in foreground and bg.islower() and bg.upper() in background:
                     res = foreground[fg] + background[bg.upper()]
 
             elif el_count == 2:
-                st, fg, bg = tag.split(',')
-                if st in style and (fg != '' or bg != ''):
-                    if fg == '' or fg in foreground:
-                        if bg == '' or (bg.islower() and bg.upper() in background):
-                            res = style[st] + foreground.get(fg, '') + background.get(bg.upper(), '')
+                st, fg, bg = tag.split(",")
+                if st in style and (fg != "" or bg != ""):
+                    if fg == "" or fg in foreground:
+                        if bg == "" or (bg.islower() and bg.upper() in background):
+                            res = style[st] + foreground.get(fg, "") + background.get(bg.upper(), "")
 
         # If nothing matches, return the full tag (i.e. <unknown>text</...>).
         if res is None:
             return markup
 
         # If closing tag is known, but did not early exit, something is wrong.
         if closing:
@@ -148,53 +178,57 @@
                 raise MismatchedTag('closing tag "%s" has no corresponding opening tag' % markup)
 
         tag_list.append(tag)
         res_list.append(res)
 
         return res
 
-    def clear_tag(self, match, tag_list, res_list):
+    def clear_tag(self, match: Match, tag_list: List[str], res_list: List[str]) -> str:
         pre_length = len(tag_list)
         try:
             self.sub_tag(match, tag_list, res_list)
 
             # If list did not change, the tag is unknown
             if len(tag_list) == pre_length:
                 return match.group(0)
 
             # Otherwise, tag matched so remove it
             else:
-                return ''
+                return ""
 
         # Tag matched but is invalid, remove it anyway
         except (UnbalancedTag, MismatchedTag):
-            return ''
+            return ""
 
-    def compile_tag_regex(self, tag_sep):
+    def compile_tag_regex(self, tag_sep) -> Pattern:
         # Optimize the default:
-        if tag_sep == '<>':
-            tag_regex = re.compile(r'</?([^<>]+)>')
+        if tag_sep == "<>":
+            tag_regex = re.compile(r"</?([^<>]+)>")
             return tag_regex
 
         if len(tag_sep) != 2:
             raise ValueError('tag_sep needs to have exactly two elements (e.g. "<>")')
 
         if tag_sep[0] == tag_sep[1]:
-            raise ValueError('opening and closing characters cannot be the same')
+            raise ValueError("opening and closing characters cannot be the same")
 
-        tag_regex = r'{0}/?([^{0}{1}]+){1}'.format(tag_sep[0], tag_sep[1])
+        tag_regex = r"{0}/?([^{0}{1}]+){1}".format(tag_sep[0], tag_sep[1])
         return re.compile(tag_regex)
 
 
+class AnsiMarkupRawString(str):
+    pass
+
+
 class AnsiMarkupString(str):
-    '''
+    """
     A string containing the original markup, the formatted string and the
     string with tags stripped off. Example usage::
 
-      >>> t = AnsiMarkup().string('<b>abc</b>')
+      >>> t = AnsiMarkup().ansistring('<b>abc</b>')
       >>> repr(t)
       <b>abc</b>
 
       >>> print(t)
       abc  # in bold
 
       >>> len(t)
@@ -202,32 +236,31 @@
 
       >>> len(AnsiMarkup().parse('<b>abc</b'))
       11
 
       >>> t.delta
       8
 
-    '''
+    """
 
     def __new__(cls, am, markup):
         parsed = am.parse(markup)
 
         new_str = str.__new__(cls, parsed)
         new_str.markup = markup
         new_str.stripped = am.strip(markup)
 
         # The difference in length between the formatted string and the string
         # with markup tags stripped off.
-        new_str.delta = len(parsed) - len(new_str.stripped)
+        new_str.delta: int = len(parsed) - len(new_str.stripped)
 
         return new_str
 
     def __len__(self):
         return len(self.stripped)
 
     def __repr__(self):
         return self.markup
 
 
-def hex_to_rgb(value):
-    return tuple(int(value[i:i + 2], 16) for i in (0, 2, 4))
-    #return tuple(bytes.fromhex(value))
+def hex_to_rgb(value: str) -> Tuple[int, int, int]:
+    return tuple(bytes.fromhex(value))
```

