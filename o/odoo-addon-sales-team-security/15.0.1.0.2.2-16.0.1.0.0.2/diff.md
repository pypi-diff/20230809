# Comparing `tmp/odoo_addon_sales_team_security-15.0.1.0.2.2-py3-none-any.whl.zip` & `tmp/odoo_addon_sales_team_security-16.0.1.0.0.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,28 +1,28 @@
-Zip file size: 34200 bytes, number of entries: 26
--rw-r--r--  2.0 unx     5373 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/README.rst
--rw-r--r--  2.0 unx      136 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/__init__.py
--rw-r--r--  2.0 unx      762 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/__manifest__.py
--rw-r--r--  2.0 unx     1572 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/hooks.py
--rw-r--r--  2.0 unx     2523 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/i18n/es.po
--rw-r--r--  2.0 unx     2403 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/i18n/it.po
--rw-r--r--  2.0 unx     1982 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/i18n/sales_team_security.pot
--rw-r--r--  2.0 unx      112 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/models/__init__.py
--rw-r--r--  2.0 unx     2141 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/models/ir_rule.py
--rw-r--r--  2.0 unx     3914 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/models/res_partner.py
--rw-r--r--  2.0 unx      137 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx      224 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx     1414 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      254 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/readme/INSTALL.rst
--rw-r--r--  2.0 unx      132 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/readme/ROADMAP.rst
--rw-r--r--  2.0 unx      681 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/security/sales_team_security.xml
--rw-r--r--  2.0 unx     9455 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/static/description/icon.png
--rw-r--r--  2.0 unx    15379 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/static/description/index.html
--rw-r--r--  2.0 unx      104 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/tests/__init__.py
--rw-r--r--  2.0 unx     5464 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/tests/common.py
--rw-r--r--  2.0 unx     3921 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/tests/test_sales_team_security.py
--rw-r--r--  2.0 unx      579 b- defN 23-Jul-25 05:02 odoo/addons/sales_team_security/views/res_partner_view.xml
--rw-r--r--  2.0 unx     5998 b- defN 23-Jul-25 05:04 odoo_addon_sales_team_security-15.0.1.0.2.2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jul-25 05:04 odoo_addon_sales_team_security-15.0.1.0.2.2.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Jul-25 05:04 odoo_addon_sales_team_security-15.0.1.0.2.2.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2794 b- defN 23-Jul-25 05:04 odoo_addon_sales_team_security-15.0.1.0.2.2.dist-info/RECORD
-26 files, 67551 bytes uncompressed, 29442 bytes compressed:  56.4%
+Zip file size: 34257 bytes, number of entries: 26
+-rw-r--r--  2.0 unx     5455 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/README.rst
+-rw-r--r--  2.0 unx      136 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/__init__.py
+-rw-r--r--  2.0 unx      762 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/__manifest__.py
+-rw-r--r--  2.0 unx     1572 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/hooks.py
+-rw-r--r--  2.0 unx     2411 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/i18n/es.po
+-rw-r--r--  2.0 unx     2403 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/i18n/it.po
+-rw-r--r--  2.0 unx     1982 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/i18n/sales_team_security.pot
+-rw-r--r--  2.0 unx      112 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/models/__init__.py
+-rw-r--r--  2.0 unx     2141 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/models/ir_rule.py
+-rw-r--r--  2.0 unx     3767 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/models/res_partner.py
+-rw-r--r--  2.0 unx      137 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx      306 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx     1414 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      254 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/readme/INSTALL.rst
+-rw-r--r--  2.0 unx      132 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/readme/ROADMAP.rst
+-rw-r--r--  2.0 unx      681 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/security/sales_team_security.xml
+-rw-r--r--  2.0 unx     9455 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/static/description/icon.png
+-rw-r--r--  2.0 unx    15593 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/static/description/index.html
+-rw-r--r--  2.0 unx      104 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/tests/__init__.py
+-rw-r--r--  2.0 unx     5591 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/tests/common.py
+-rw-r--r--  2.0 unx     4168 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/tests/test_sales_team_security.py
+-rw-r--r--  2.0 unx      579 b- defN 23-Aug-08 11:05 odoo/addons/sales_team_security/views/res_partner_view.xml
+-rw-r--r--  2.0 unx     6081 b- defN 23-Aug-08 11:05 odoo_addon_sales_team_security-16.0.1.0.0.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Aug-08 11:05 odoo_addon_sales_team_security-16.0.1.0.0.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Aug-08 11:05 odoo_addon_sales_team_security-16.0.1.0.0.2.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2794 b- defN 23-Aug-08 11:05 odoo_addon_sales_team_security-16.0.1.0.0.2.dist-info/RECORD
+26 files, 68127 bytes uncompressed, 29499 bytes compressed:  56.7%
```

## zipnote {}

```diff
@@ -60,20 +60,20 @@
 
 Filename: odoo/addons/sales_team_security/tests/test_sales_team_security.py
 Comment: 
 
 Filename: odoo/addons/sales_team_security/views/res_partner_view.xml
 Comment: 
 
-Filename: odoo_addon_sales_team_security-15.0.1.0.2.2.dist-info/METADATA
+Filename: odoo_addon_sales_team_security-16.0.1.0.0.2.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_sales_team_security-15.0.1.0.2.2.dist-info/WHEEL
+Filename: odoo_addon_sales_team_security-16.0.1.0.0.2.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_sales_team_security-15.0.1.0.2.2.dist-info/top_level.txt
+Filename: odoo_addon_sales_team_security-16.0.1.0.0.2.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_sales_team_security-15.0.1.0.2.2.dist-info/RECORD
+Filename: odoo_addon_sales_team_security-16.0.1.0.0.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/sales_team_security/README.rst

```diff
@@ -10,21 +10,21 @@
 .. |badge1| image:: https://img.shields.io/badge/maturity-Production%2FStable-green.png
     :target: https://odoo-community.org/page/development-status
     :alt: Production/Stable
 .. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
     :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
     :alt: License: AGPL-3
 .. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fsale--workflow-lightgray.png?logo=github
-    :target: https://github.com/OCA/sale-workflow/tree/15.0/sales_team_security
+    :target: https://github.com/OCA/sale-workflow/tree/16.0/sales_team_security
     :alt: OCA/sale-workflow
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
-    :target: https://translation.odoo-community.org/projects/sale-workflow-15-0/sale-workflow-15-0-sales_team_security
+    :target: https://translation.odoo-community.org/projects/sale-workflow-16-0/sale-workflow-16-0-sales_team_security
     :alt: Translate me on Weblate
 .. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
-    :target: https://runbot.odoo-community.org/runbot/167/15.0
+    :target: https://runbot.odoo-community.org/runbot/167/16.0
     :alt: Try me on Runbot
 
 |badge1| |badge2| |badge3| |badge4| |badge5| 
 
 This module adds a new "Sale" group called "User: Team documents", that
 includes the proper permissions for showing only the information related to
 that user sale team (having assigned that team/channel or no team at all,
@@ -84,15 +84,15 @@
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/sale-workflow/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
-`feedback <https://github.com/OCA/sale-workflow/issues/new?body=module:%20sales_team_security%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+`feedback <https://github.com/OCA/sale-workflow/issues/new?body=module:%20sales_team_security%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
 
 Do not contact contributors directly about support or help with technical issues.
 
 Credits
 =======
 
 Authors
@@ -111,14 +111,18 @@
 
 * `Guadaltech <https://www.guadaltech.es>`__:
 
   * Ramón Bajona
 
 * Iván Todorovich <ivan.todorovich@gmail.com>
 
+* `Pesol <https://www.pesol.es>`__:
+
+  * Jonathan Oscategui Taza <info@pesol.es>
+
 Maintainers
 ~~~~~~~~~~~
 
 This module is maintained by the OCA.
 
 .. image:: https://odoo-community.org/logo.png
    :alt: Odoo Community Association
@@ -135,10 +139,10 @@
     :target: https://github.com/ivantodorovich
     :alt: ivantodorovich
 
 Current `maintainers <https://odoo-community.org/page/maintainer-role>`__:
 
 |maintainer-pedrobaeza| |maintainer-ivantodorovich| 
 
-This module is part of the `OCA/sale-workflow <https://github.com/OCA/sale-workflow/tree/15.0/sales_team_security>`_ project on GitHub.
+This module is part of the `OCA/sale-workflow <https://github.com/OCA/sale-workflow/tree/16.0/sales_team_security>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
```

## odoo/addons/sales_team_security/__manifest__.py

```diff
@@ -1,14 +1,14 @@
 # Copyright 2016-2020 Tecnativa - Pedro M. Baeza
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 {
     "name": "Sales documents permissions by channels (teams)",
     "summary": "New group for seeing only sales channel's documents",
-    "version": "15.0.1.0.2",
+    "version": "16.0.1.0.0",
     "category": "Sales",
     "website": "https://github.com/OCA/sale-workflow",
     "author": "Tecnativa, Odoo Community Association (OCA)",
     "license": "AGPL-3",
     "installable": True,
     "development_status": "Production/Stable",
     "maintainers": ["pedrobaeza", "ivantodorovich"],
```

## odoo/addons/sales_team_security/i18n/es.po

```diff
@@ -3,38 +3,36 @@
 # 	* sales_team_security
 #
 msgid ""
 msgstr ""
 "Project-Id-Version: Odoo Server 15.0\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2022-06-28 21:00+0000\n"
-"PO-Revision-Date: 2023-07-24 18:09+0000\n"
-"Last-Translator: Ivorra78 <informatica@totmaterial.es>\n"
+"PO-Revision-Date: 2022-06-28 21:00+0000\n"
+"Last-Translator: \n"
 "Language-Team: \n"
-"Language: es\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: \n"
-"Plural-Forms: nplurals=2; plural=n != 1;\n"
-"X-Generator: Weblate 4.17\n"
+"Plural-Forms: \n"
 
 #. module: sales_team_security
 #: model:ir.model,name:sales_team_security.model_res_partner
 msgid "Contact"
 msgstr "Contacto"
 
 #. module: sales_team_security
 #: model:ir.model.fields,help:sales_team_security.field_res_partner__team_id
 #: model:ir.model.fields,help:sales_team_security.field_res_users__team_id
 msgid ""
 "If set, this Sales Team will be used for sales and assignments related to "
 "this partner"
 msgstr ""
 "Si está configurado, este equipo de ventas será usado para las ventas y "
-"asignaciones relacionadas a este socio"
+"asignaciones relacionadas a este partner."
 
 #. module: sales_team_security
 #: model:ir.model,name:sales_team_security.model_ir_rule
 msgid "Record Rule"
 msgstr "Regla de registro"
 
 #. module: sales_team_security
@@ -56,15 +54,13 @@
 msgstr "El usuario interno a cargo de este contacto."
 
 #. module: sales_team_security
 #: model:res.groups,comment:sales_team_security.group_sale_team_manager
 msgid ""
 "The user will have an access to the documents of the sales teams he/she "
 "belongs to."
-msgstr ""
-"El usuario tendrá acceso a los documentos de los equipos de ventas a los que "
-"pertenezca."
+msgstr "El usuario tendrá acceso a los documentos de los equipos comerciales a los que pertenece."
 
 #. module: sales_team_security
 #: model:res.groups,name:sales_team_security.group_sale_team_manager
 msgid "User: Team Documents Only"
-msgstr "Usuario: Sólo documentos de equipo"
+msgstr "Usuario: Solo documentos del equipo"
```

## odoo/addons/sales_team_security/i18n/sales_team_security.pot

```diff
@@ -1,14 +1,14 @@
 # Translation of Odoo Server.
 # This file contains the translation of the following modules:
 # 	* sales_team_security
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: Odoo Server 15.0\n"
+"Project-Id-Version: Odoo Server 16.0\n"
 "Report-Msgid-Bugs-To: \n"
 "Last-Translator: \n"
 "Language-Team: \n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: \n"
 "Plural-Forms: \n"
```

## odoo/addons/sales_team_security/models/res_partner.py

```diff
@@ -11,27 +11,20 @@
     _inherit = "res.partner"
 
     # add indexes for better performance on record rules
     user_id = fields.Many2one(index=True)
     team_id = fields.Many2one(index=True)
 
     @api.model
-    def fields_view_get(
-        self, view_id=None, view_type="form", toolbar=False, submenu=False
-    ):
+    def get_view(self, view_id=None, view_type="form", **options):
         """
         Patch view to inject the default value for the team_id and user_id.
         """
         # FIXME: Use base_view_inheritance_extension when available
-        res = super().fields_view_get(
-            view_id=view_id,
-            view_type=view_type,
-            toolbar=toolbar,
-            submenu=submenu,
-        )
+        res = super().get_view(view_id, view_type, **options)
         if view_type == "form":
             eview = etree.fromstring(res["arch"])
             xml_fields = eview.xpath("//field[@name='child_ids']")
             if xml_fields:
                 context_str = (
                     xml_fields[0]
                     .get("context", "{}")
```

## odoo/addons/sales_team_security/readme/CONTRIBUTORS.rst

```diff
@@ -5,7 +5,11 @@
   * César A. Sánchez
 
 * `Guadaltech <https://www.guadaltech.es>`__:
 
   * Ramón Bajona
 
 * Iván Todorovich <ivan.todorovich@gmail.com>
+
+* `Pesol <https://www.pesol.es>`__:
+
+  * Jonathan Oscategui Taza <info@pesol.es>
```

## odoo/addons/sales_team_security/static/description/index.html

### odoo/addons/sales_team_security/static/description/index.html

```diff
@@ -367,21 +367,21 @@
       <p>
         <a class="reference external" href="https://odoo-community.org/page/development-status">
           <img alt="Production/Stable" src="https://img.shields.io/badge/maturity-Production%2FStable-green.png"/>
         </a>
         <a class="reference external" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html">
           <img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png"/>
         </a>
-        <a class="reference external" href="https://github.com/OCA/sale-workflow/tree/15.0/sales_team_security">
+        <a class="reference external" href="https://github.com/OCA/sale-workflow/tree/16.0/sales_team_security">
           <img alt="OCA/sale-workflow" src="https://img.shields.io/badge/github-OCA%2Fsale--workflow-lightgray.png?logo=github"/>
         </a>
-        <a class="reference external" href="https://translation.odoo-community.org/projects/sale-workflow-15-0/sale-workflow-15-0-sales_team_security">
+        <a class="reference external" href="https://translation.odoo-community.org/projects/sale-workflow-16-0/sale-workflow-16-0-sales_team_security">
           <img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png"/>
         </a>
-        <a class="reference external" href="https://runbot.odoo-community.org/runbot/167/15.0">
+        <a class="reference external" href="https://runbot.odoo-community.org/runbot/167/16.0">
           <img alt="Try me on Runbot" src="https://img.shields.io/badge/runbot-Try%20me-875A7B.png"/>
         </a>
       </p>
       <p>This module adds a new “Sale” group called “User: Team documents”, that
 includes the proper permissions for showing only the information related to
 that user sale team (having assigned that team/channel or no team at all,
 independently from the assigned salesman):</p>
@@ -480,15 +480,15 @@
         </h1>
         <p>
           Bugs are tracked on
           <a class="reference external" href="https://github.com/OCA/sale-workflow/issues">GitHub Issues</a>
           .
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
-          <a class="reference external" href="https://github.com/OCA/sale-workflow/issues/new?body=module:%20sales_team_security%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>
+          <a class="reference external" href="https://github.com/OCA/sale-workflow/issues/new?body=module:%20sales_team_security%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>
           .
         </p>
         <p>Do not contact contributors directly about support or help with technical issues.</p>
       </div>
       <div class="section" id="credits">
         <h1>
           <a class="toc-backref" href="#id5">Credits</a>
@@ -523,14 +523,25 @@
               </ul>
             </li>
             <li>
               Iván Todorovich &lt;
               <a class="reference external" href="mailto:ivan.todorovich@gmail.com">ivan.todorovich@gmail.com</a>
               &gt;
             </li>
+            <li>
+              <a class="reference external" href="https://www.pesol.es">Pesol</a>
+              :
+              <ul>
+                <li>
+                  Jonathan Oscategui Taza &lt;
+                  <a class="reference external" href="mailto:info@pesol.es">info@pesol.es</a>
+                  &gt;
+                </li>
+              </ul>
+            </li>
           </ul>
         </div>
         <div class="section" id="maintainers">
           <h2>
             <a class="toc-backref" href="#id8">Maintainers</a>
           </h2>
           <p>This module is maintained by the OCA.</p>
@@ -551,15 +562,15 @@
             </a>
             <a class="reference external" href="https://github.com/ivantodorovich">
               <img alt="ivantodorovich" src="https://github.com/ivantodorovich.png?size=40px"/>
             </a>
           </p>
           <p>
             This module is part of the
-            <a class="reference external" href="https://github.com/OCA/sale-workflow/tree/15.0/sales_team_security">OCA/sale-workflow</a>
+            <a class="reference external" href="https://github.com/OCA/sale-workflow/tree/16.0/sales_team_security">OCA/sale-workflow</a>
             project on GitHub.
           </p>
           <p>
             You are welcome to contribute. To learn how please visit
             <a class="reference external" href="https://odoo-community.org/page/Contribute">https://odoo-community.org/page/Contribute</a>
             .
           </p>
```

## odoo/addons/sales_team_security/tests/common.py

```diff
@@ -29,14 +29,17 @@
         )
         cls.partner_child_1 = cls.env["res.partner"].create(
             {"name": "Child 1", "parent_id": cls.partner.id}
         )
         cls.partner_child_2 = cls.env["res.partner"].create(
             {"name": "Child 2", "parent_id": cls.partner.id, "type": "invoice"}
         )
+        cls.partner2 = cls.env["res.partner"].create(
+            {"name": "Test partner 2", "user_id": cls.user.id}
+        )
         cls.user2 = cls.env["res.users"].create(
             {
                 "login": "sales_team_security2",
                 "name": "Test sales_team_security user 2",
                 "groups_id": [(4, cls.env.ref("sales_team.group_sale_salesman").id)],
             }
         )
```

## odoo/addons/sales_team_security/tests/test_sales_team_security.py

```diff
@@ -19,14 +19,20 @@
     def test_onchange_parent_id(self):
         contact = self.env["res.partner"].create(
             {"name": "Test contact", "parent_id": self.partner.id}
         )
         contact._onchange_parent_id_sales_team_security()
         self.assertEqual(contact.team_id, self.team)
 
+        contact2 = self.env["res.partner"].create(
+            {"name": "Test contact", "parent_id": self.partner2.id}
+        )
+        contact2._onchange_parent_id_sales_team_security()
+        self.assertEqual(contact2.user_id, self.user)
+
     def test_onchange_user_id(self):
         contact = self.env["res.partner"].create(
             {
                 "name": "Test contact",
                 "user_id": self.user.id,
             }
         )
@@ -34,15 +40,15 @@
         self.assertEqual(contact.team_id, self.team)
 
     def test_assign_contacts_team(self):
         contact = self.env["res.partner"].create(
             {"name": "Test contact", "parent_id": self.partner.id, "team_id": False}
         )
         post_init_hook(self.env.cr, self.env.registry)
-        contact.refresh()
+        contact.env.invalidate_all()
         self.assertEqual(contact.team_id, self.partner.team_id)
 
     def test_change_user_id_partner(self):
         self.partner.write({"user_id": self.user.id})
         self.assertIn(self.user_partner, self.partner.message_partner_ids)
         self.assertNotIn(self.user_partner, self.partner_child_1.message_partner_ids)
         self.assertIn(self.user_partner, self.partner_child_2.message_partner_ids)
@@ -61,15 +67,15 @@
         self.partner_child_1.write({"user_id": self.user2.id})
         self.assertNotIn(self.user_partner, self.partner.message_partner_ids)
         self.assertIn(self.user2_partner, self.partner.message_partner_ids)
         self.assertNotIn(self.user_partner, self.partner_child_2.message_partner_ids)
         self.assertIn(self.user2_partner, self.partner_child_2.message_partner_ids)
 
     def test_partner_fields_view_get(self):
-        res = self.env["res.partner"].fields_view_get(
+        res = self.env["res.partner"].get_view(
             view_id=self.ref("base.view_partner_form")
         )
         eview = etree.fromstring(res["arch"])
         xml_fields = eview.xpath("//field[@name='child_ids']")
         self.assertTrue(xml_fields)
         self.assertTrue("default_team_id" in xml_fields[0].get("context", ""))
```

## Comparing `odoo_addon_sales_team_security-15.0.1.0.2.2.dist-info/METADATA` & `odoo_addon_sales_team_security-16.0.1.0.0.2.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,23 +1,23 @@
 Metadata-Version: 2.1
 Name: odoo-addon-sales-team-security
-Version: 15.0.1.0.2.2
+Version: 16.0.1.0.0.2
 Summary: New group for seeing only sales channel's documents
 Home-page: https://github.com/OCA/sale-workflow
 Author: Tecnativa, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
 Classifier: Framework :: Odoo
-Classifier: Framework :: Odoo :: 15.0
+Classifier: Framework :: Odoo :: 16.0
 Classifier: License :: OSI Approved :: GNU Affero General Public License v3
 Classifier: Development Status :: 5 - Production/Stable
-Requires-Python: >=3.8
-Requires-Dist: odoo (<15.1dev,>=15.0a)
+Requires-Python: >=3.10
+Requires-Dist: odoo (<16.1dev,>=16.0a)
 
 ===============================================
 Sales documents permissions by channels (teams)
 ===============================================
 
 .. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    !! This file is generated by oca-gen-addon-readme !!
@@ -27,21 +27,21 @@
 .. |badge1| image:: https://img.shields.io/badge/maturity-Production%2FStable-green.png
     :target: https://odoo-community.org/page/development-status
     :alt: Production/Stable
 .. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
     :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
     :alt: License: AGPL-3
 .. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fsale--workflow-lightgray.png?logo=github
-    :target: https://github.com/OCA/sale-workflow/tree/15.0/sales_team_security
+    :target: https://github.com/OCA/sale-workflow/tree/16.0/sales_team_security
     :alt: OCA/sale-workflow
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
-    :target: https://translation.odoo-community.org/projects/sale-workflow-15-0/sale-workflow-15-0-sales_team_security
+    :target: https://translation.odoo-community.org/projects/sale-workflow-16-0/sale-workflow-16-0-sales_team_security
     :alt: Translate me on Weblate
 .. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
-    :target: https://runbot.odoo-community.org/runbot/167/15.0
+    :target: https://runbot.odoo-community.org/runbot/167/16.0
     :alt: Try me on Runbot
 
 |badge1| |badge2| |badge3| |badge4| |badge5| 
 
 This module adds a new "Sale" group called "User: Team documents", that
 includes the proper permissions for showing only the information related to
 that user sale team (having assigned that team/channel or no team at all,
@@ -101,15 +101,15 @@
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/sale-workflow/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
-`feedback <https://github.com/OCA/sale-workflow/issues/new?body=module:%20sales_team_security%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+`feedback <https://github.com/OCA/sale-workflow/issues/new?body=module:%20sales_team_security%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
 
 Do not contact contributors directly about support or help with technical issues.
 
 Credits
 =======
 
 Authors
@@ -128,14 +128,18 @@
 
 * `Guadaltech <https://www.guadaltech.es>`__:
 
   * Ramón Bajona
 
 * Iván Todorovich <ivan.todorovich@gmail.com>
 
+* `Pesol <https://www.pesol.es>`__:
+
+  * Jonathan Oscategui Taza <info@pesol.es>
+
 Maintainers
 ~~~~~~~~~~~
 
 This module is maintained by the OCA.
 
 .. image:: https://odoo-community.org/logo.png
    :alt: Odoo Community Association
@@ -152,12 +156,12 @@
     :target: https://github.com/ivantodorovich
     :alt: ivantodorovich
 
 Current `maintainers <https://odoo-community.org/page/maintainer-role>`__:
 
 |maintainer-pedrobaeza| |maintainer-ivantodorovich| 
 
-This module is part of the `OCA/sale-workflow <https://github.com/OCA/sale-workflow/tree/15.0/sales_team_security>`_ project on GitHub.
+This module is part of the `OCA/sale-workflow <https://github.com/OCA/sale-workflow/tree/16.0/sales_team_security>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
```

## Comparing `odoo_addon_sales_team_security-15.0.1.0.2.2.dist-info/RECORD` & `odoo_addon_sales_team_security-16.0.1.0.0.2.dist-info/RECORD`

 * *Files 13% similar despite different names*

```diff
@@ -1,26 +1,26 @@
-odoo/addons/sales_team_security/README.rst,sha256=5120PcpEJJRgt03fA2NsRpeoFB2k_s7wjxu7Wt6TUEc,5373
+odoo/addons/sales_team_security/README.rst,sha256=3b1MXadVyN8C6dXb_7Xozh2ald38DN-yYMq9qXVsP3c,5455
 odoo/addons/sales_team_security/__init__.py,sha256=zdXczDxeTaj02_D6TyKbIbqQaFPk5B75fcaE0D3NSzw,136
-odoo/addons/sales_team_security/__manifest__.py,sha256=tmtoY51AkpBiw9A5o4rvBbBVWPw6D8t4KBIPtkkdWHA,762
+odoo/addons/sales_team_security/__manifest__.py,sha256=EzwgpYxUC6k9zd1fmSPa8ICsvC6iya27FdkkZNuc8Ro,762
 odoo/addons/sales_team_security/hooks.py,sha256=6zVisMGaq0yPpzpnc_QpdsyjFNs9qLvymJcKW16cdKY,1572
-odoo/addons/sales_team_security/i18n/es.po,sha256=4Ggfvv5f6BfP-GMRdJYW7CZQLRY_OE0iVVXpadR5yNI,2523
+odoo/addons/sales_team_security/i18n/es.po,sha256=93ifhTv8fd99StMOF2fJEm3Fu7aSGUTMTEbiq-cgdyE,2411
 odoo/addons/sales_team_security/i18n/it.po,sha256=MShQ8ziUhQOGKWZBG3dp_RI5sHS6Wpu1ksG3T03ee6g,2403
-odoo/addons/sales_team_security/i18n/sales_team_security.pot,sha256=YQYEp1SMO8nVV6zVLYizin0c1Wxb1dVlIItxuRHeA4s,1982
+odoo/addons/sales_team_security/i18n/sales_team_security.pot,sha256=707EXuU-Din46dytmVDkfHb5-s2oQ5mhK0-KJrvhYuE,1982
 odoo/addons/sales_team_security/models/__init__.py,sha256=dcausgBKcnqnx69BS4QRljVmVAmxYpQ3yz2IZ9qoOiY,112
 odoo/addons/sales_team_security/models/ir_rule.py,sha256=tBnOraGS0Ofwp5VifVsr98Sbz6PavbulyzuZor9thx4,2141
-odoo/addons/sales_team_security/models/res_partner.py,sha256=5lhhi7agkBUeaEg9tbd-HM1g0B9REfc1vpUDfUnb8cw,3914
+odoo/addons/sales_team_security/models/res_partner.py,sha256=giF2q5Jacx1UmDnEyXEivrWYDdgqudAMySmUgyxtwc0,3767
 odoo/addons/sales_team_security/readme/CONFIGURE.rst,sha256=oR1nCYZjWC-Vuwx0eokSAzV_q7URCDC5W_pv6zsNTy4,137
-odoo/addons/sales_team_security/readme/CONTRIBUTORS.rst,sha256=ZBbnFNSU4Wprk2ZFrz6BOeSM2vTxLrxR6VgCo-eUBmw,224
+odoo/addons/sales_team_security/readme/CONTRIBUTORS.rst,sha256=5paVfysAA7YlqwwJAe24f-XuXYSHNAEf3RHAoJ4RSUw,306
 odoo/addons/sales_team_security/readme/DESCRIPTION.rst,sha256=kQ-CldwP-H2zMjjJ_34f6-6bKtKD_Kz7dCyqutya32o,1414
 odoo/addons/sales_team_security/readme/INSTALL.rst,sha256=vjjlN5jIjFGnjmtaXLK05o5YTtWWgsntUMyeBaBonDk,254
 odoo/addons/sales_team_security/readme/ROADMAP.rst,sha256=8AxQpsg8UZX_vVCDs48lVHjhWBU7vpJ0Usd5V16jDcQ,132
 odoo/addons/sales_team_security/security/sales_team_security.xml,sha256=UYxtj-eG6V9T9gwLHc_wGIdrvgEziw2meA1hOzKjnRE,681
 odoo/addons/sales_team_security/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
-odoo/addons/sales_team_security/static/description/index.html,sha256=ByHedIeIe-aTJcnwmjXMCwX_IqevauFY-0MvuKOVzk4,15379
+odoo/addons/sales_team_security/static/description/index.html,sha256=IOi4nPBRz0JrHxsjMSq-F4Caf17652nYITXrW-_tZNQ,15593
 odoo/addons/sales_team_security/tests/__init__.py,sha256=bqijs-t6q52O0Zy8d4iBWJE7c-9Kd_X0bleNsAOaXYY,104
-odoo/addons/sales_team_security/tests/common.py,sha256=mRDqj7JqQzthM5Rt8WqKmqizmDF62KNNY6PEnzdQhVY,5464
-odoo/addons/sales_team_security/tests/test_sales_team_security.py,sha256=xQizE-reN9JiSNz37ctDL1u2UCXM8j1Nfw0FlwQcHjI,3921
+odoo/addons/sales_team_security/tests/common.py,sha256=ilcEwipTwBjOMPDLqgNB8AuH6iSNsGID7C9nJvrfFEk,5591
+odoo/addons/sales_team_security/tests/test_sales_team_security.py,sha256=2IKSEslKYcMms6WvXGZfLPEjNxTcsFxqMpAIuKhl1zk,4168
 odoo/addons/sales_team_security/views/res_partner_view.xml,sha256=QmE-6fp1hHA359BXXorgw7DK8gDaZ-rBROH8z9MHpzk,579
-odoo_addon_sales_team_security-15.0.1.0.2.2.dist-info/METADATA,sha256=tntk9azlP_NVzG47qogA0Ew3EqmKWM_dG_IcWVBuf0c,5998
-odoo_addon_sales_team_security-15.0.1.0.2.2.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-odoo_addon_sales_team_security-15.0.1.0.2.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_sales_team_security-15.0.1.0.2.2.dist-info/RECORD,,
+odoo_addon_sales_team_security-16.0.1.0.0.2.dist-info/METADATA,sha256=an9o1ljEl7hlCAz3Y46IpQIX0Hx4F7riZBUczICy_g0,6081
+odoo_addon_sales_team_security-16.0.1.0.0.2.dist-info/WHEEL,sha256=AtBG6SXL3KF_v0NxLf0ehyVOh0cold-JbJYXNGorC6Q,92
+odoo_addon_sales_team_security-16.0.1.0.0.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_sales_team_security-16.0.1.0.0.2.dist-info/RECORD,,
```

